[{"title":"android è¿›ç¨‹é—´é€šä¿¡ä¹‹AIDL","date":"2017-03-17T08:28:28.000Z","path":"2017/03/17/android-è¿›ç¨‹é—´é€šä¿¡ä¹‹AIDL/","text":"æœ€è¿‘ä¸€ç›´åœ¨æƒ³å¾®ä¿¡ä¸æ”¯ä»˜å®è¿™æ ·çš„sdkæ˜¯æ€ä¹ˆåšåˆ°æ”¯ä»˜å›è°ƒçš„ï¼Œæ˜æ˜æ˜¯ä¸¤ä¸ªä¸åŒçš„apkï¼Œæ¥å£ã€StartActivityForResultä»€ä¹ˆçš„è‚¯å®šæ˜¯è¡Œä¸é€šçš„ã€‚å¿½ç„¶æƒ³åˆ°ä¼šä¸ä¼šä½¿ç”¨äº†è·¨è¿›ç¨‹é€šä¿¡çš„æœºåˆ¶ï¼Œå®¢æˆ·ç«¯ç»™æ”¯ä»˜å®å‘é€æ”¯ä»˜è¯·æ±‚ï¼Œæ”¯ä»˜å®é€šè¿‡å›è°ƒå°†æ”¯ä»˜ç»“æœå›ä¼ ç»™å®¢æˆ·ç«¯ï¼Œä»è€Œå®ç°è¿ä¸ªapkæ”¯ä»˜çš„å›è°ƒã€‚ç«Ÿç„¶æ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œå°±ä¸å¦‚å¤§èƒ†çš„å®è·µä¸€ä¸‹å§ï¼æˆ‘ä»¬å…ˆè¯´ä¸€è¯´æˆ‘æƒ³å®ç°çš„æ•ˆæœA.apké€šè¿‡ç‚¹å‡»è·³è½¬åˆ°B.apk,ç„¶åä¼ é€’ç›¸åº”çš„æ¶ˆæ¯ï¼Œç„¶åBé€šè¿‡ç‚¹å‡»æŠŠæ¶ˆæ¯å›ä¼ ç»™Aã€‚ æ•ˆæœå›¾ æœåŠ¡å™¨apké¦–å…ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ªå·¥ç¨‹ä½œä¸ºæœåŠ¡å™¨apkç„¶åä½¿ç”¨android studioæ–°å»ºaidlæ–‡ä»¶ 12345678910111213141516// IRemoteServiceCallback.aidlpackage com.dongqing.aidlservice;/** * a callback interface used by dvbService to send * synchronous notifications back to its clients. Note that this is a * one-way interface so the server does not block waiting for the client. */oneway interface IRemoteServiceCallback &#123; /* * handler search message from service */ void handlerSearchEvent(int msgID, String msg);&#125; IRemoteServiceCallbacké¡¾åæ€ä¹‰ç”¨äºå›è°ƒç»™å®¢æˆ·ç«¯çš„æ¥å£ï¼Œç„¶åæˆ‘ä»¬å»ºç«‹IRemoteService.aidl1234567891011// IRemoteService.aidlpackage com.dongqing.aidlservice;//import å¿…é¡»æ·»åŠ ï¼Œå°±ç®—æ˜¯ä¸€ä¸ªåŒ…import com.dongqing.aidlservice.IRemoteServiceCallback;// Declare any non-default types here with import statementsinterface IRemoteService &#123; void registerCallback(IRemoteServiceCallback callback); void sendMsgCallback(IRemoteServiceCallback callback);&#125; IRemoteServiceç”¨äºæ³¨å†Œå›è°ƒæ¥å£ï¼Œç„¶åæˆ‘ä»¬Make Projectï¼Œandroid studioä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆå…¶ç›¸åº”çš„ javaæ–‡ä»¶ç„¶åæˆ‘ä»¬æ–°å»ºä¸€ä¸ªserviceç”¨äºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é€šä¿¡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465public class AIDLService extends Service &#123; String TAG = AIDLService.class.getSimpleName(); private RemoteCallbackList&lt;IRemoteServiceCallback&gt; mCallbacks = new RemoteCallbackList&lt;IRemoteServiceCallback&gt;(); private HandlerThread handlerThread; private Messenger msg; @Override public void onCreate() &#123; super.onCreate(); handlerThread = new HandlerThread(\"handle\"); handlerThread.start(); msg = new Messenger(new Handler(handlerThread.getLooper()) &#123; @Override public void handleMessage(Message msg) &#123; super.handleMessage(msg); Bundle bundle = msg.getData(); if (msg.what == 1001) &#123; result = bundle.getString(\"data\"); Log.v(TAG, result); &#125; sendMsg(); &#125; &#125;); &#125; private IRemoteService.Stub binder = new IRemoteService.Stub() &#123; @Override public void registerCallback(IRemoteServiceCallback callback) throws RemoteException &#123; if (callback != null) &#123; mCallbacks.register(callback); &#125; &#125; @Override public void sendMsgCallback(IRemoteServiceCallback callback) throws RemoteException &#123; &#125; &#125;; public void sendMsg() &#123; // Broadcast to all clients the new value. final int N = mCallbacks.beginBroadcast(); try &#123; for (int i = 0; i &lt; N; i++) &#123; mCallbacks.getBroadcastItem(i).handlerSearchEvent(1, \"service callback client\"); &#125; &#125; catch (RemoteException e) &#123; &#125; mCallbacks.finishBroadcast(); &#125; @Nullable @Override public IBinder onBind(Intent intent) &#123; if ((\"com.dongqing.aidl\").equals(intent.getAction())) &#123; return binder; &#125; if ((\"com.dongqing.messenger\").equals(intent.getAction())) &#123; return msg.getBinder(); &#125; return null; &#125;&#125; æˆ‘ä»¬é€šè¿‡Messengerç”¨æ¥å¤„ç†Activityä¸æœ¬åœ°serviceé€šä¿¡ï¼Œä½¿ç”¨RemoteCallbackListå¤„ç†å¼‚æ­¥å›è°ƒã€‚ç°åœ¨æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶æ³¨å†Œæˆ‘ä»¬çš„service1234567&lt;service android:name=\".AIDLService\"&gt; &lt;intent-filter&gt; &lt;action android:name=\"com.dongqing.aidl\" /&gt; &lt;action android:name=\"com.dongqing.messenger\" /&gt; &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt; &lt;/intent-filter&gt;&lt;/service&gt; æˆ‘ä»¬æŒ‡å®šactionï¼Œè¿™æ ·å¯ä»¥é€šè¿‡actionéšå¼çš„ç»‘å®šå…¶serviceã€‚ç„¶åæˆ‘ä»¬åœ¨æœåŠ¡å™¨çš„Activityä¸­1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768public class MainActivity extends AppCompatActivity implements View.OnClickListener &#123; String TAG = MainActivity.class.getName(); private Button button; private TextView textView; private Messenger mService; boolean isBind; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); initView(); bindService(); &#125; private void initView() &#123; button = (Button) findViewById(R.id.button); button.setOnClickListener(this); textView.setOnClickListener(this); Bundle bundle=getIntent().getExtras(); if(bundle!=null)&#123; Log.v(TAG,bundle.getString(\"data\")); textView.setText(bundle.getString(\"data\")); &#125; @Override public void onClick(View v) &#123; switch (v.getId()) &#123; case R.id.button: Message msgFromClient = Message.obtain(null,1001); Bundle bundle = new Bundle(); // å› ä¸ºbundleå®ç°äº†Parcelableæ¥å£ã€‚ bundle.putString(\"data\", \"OK\"); msgFromClient.setData(bundle); if(isBind)&#123; try &#123; mService.send(msgFromClient); &#125; catch (RemoteException e) &#123; e.printStackTrace(); &#125; &#125; finish(); break; &#125; &#125; private void bindService() &#123; Intent intent = new Intent(this,AIDLService.class); intent.setAction(\"com.dongqing.messenger\"); bindService(intent, conn, Context.BIND_AUTO_CREATE); &#125; private ServiceConnection conn=new ServiceConnection() &#123; @Override public void onServiceConnected(ComponentName componentName, IBinder iBinder) &#123; mService=new Messenger(iBinder); isBind=true; &#125; @Override public void onServiceDisconnected(ComponentName componentName) &#123; isBind=false; &#125; &#125;; @Override protected void onDestroy() &#123; super.onDestroy(); unbindService(conn); &#125;&#125; é¦–å…ˆæˆ‘ä»¬ç»‘å®šæœ¬åœ°çš„serviceï¼Œé€šè¿‡buttonçš„ç‚¹å‡»äº‹ä»¶æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸçš„å›è°ƒã€‚ç‚¹å‡»æ—¶æˆ‘ä»¬é€šè¿‡Messengerç»™serviceå‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œserviceæ”¶åˆ°æ¶ˆæ¯åé€šè¿‡RemoteCallbackListè°ƒç”¨å›è°ƒå‡½æ•°handlerSearchEventå®ç°æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯å‘é€å¼‚æ­¥æ¶ˆæ¯ã€‚ å®¢æˆ·ç«¯apké¦–å…ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ªå·¥ç¨‹ä½œä¸ºå®¢æˆ·ç«¯apkï¼Œç„¶åéœ€è¦æŠŠæœåŠ¡ç«¯aidlçš„æ–‡ä»¶å¤¹æ‹·è´åˆ°ç›¸åŒçš„ç›®å½•ä¸‹ã€‚ç„¶ååœ¨Activity12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788public class MainActivity extends AppCompatActivity implements View.OnClickListener &#123; String TAG = MainActivity.class.getName(); private IRemoteService mService; boolean isBind; private Button button; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); initView(); BindService(); &#125; private void BindService() &#123; Intent intent = new Intent(); intent.setAction(\"com.dongqing.aidl\"); intent.setPackage(\"com.dongqing.aidlservice\"); bindService(intent, sc, Context.BIND_AUTO_CREATE); &#125; private ServiceConnection sc = new ServiceConnection() &#123; @Override public void onServiceConnected(ComponentName componentName, IBinder iBinder) &#123; mService = IRemoteService.Stub.asInterface(iBinder); isBind = true; if (mService != null) &#123; try &#123; mService.registerCallback(mCallback); &#125; catch (RemoteException e) &#123; e.printStackTrace(); &#125; &#125; &#125; @Override public void onServiceDisconnected(ComponentName componentName) &#123; isBind = false; mService = null; &#125; &#125;; private IRemoteServiceCallback.Stub mCallback = new IRemoteServiceCallback.Stub() &#123; @Override public void handlerSearchEvent(int msgID, String msg) throws RemoteException &#123;// Toast.makeText(getContext(), msg, Toast.LENGTH_SHORT).show(); Log.v(TAG, msg); &#125; &#125;; private void initView() &#123; button = (Button) findViewById(R.id.button); button.setOnClickListener(this); &#125; @Override public void onClick(View v) &#123; switch (v.getId()) &#123; case R.id.button: try &#123; Intent intent = getPackageManager().getLaunchIntentForPackage(\"com.dongqing.aidlservice\"); intent.putExtra(\"data\",\"client to service\"); startActivity(intent); if (isBind) &#123; if (mService != null &amp;&amp; mCallback != null) &#123; mService.sendMsgCallback(mCallback); &#125; &#125; &#125; catch (RemoteException e) &#123; e.printStackTrace(); &#125; break; &#125; &#125; @Override protected void onDestroy() &#123; super.onDestroy(); if (isBind) &#123; unbindService(sc); &#125; &#125; public Context getContext() &#123; return this; &#125;&#125; é€šè¿‡ç»‘å®šserviceï¼Œå®ç°å›è°ƒcallbackæ–¹æ³•ï¼Œä¾¿å¯ä»¥å®ç°å®¢æˆ·ç«¯apkä¸æœåŠ¡å™¨apkä¹‹é—´çš„ç›¸äº’é€šä¿¡ã€‚ æµç¨‹é¦–å…ˆå®¢æˆ·ç«¯éœ€è¦ç»‘å®šæœåŠ¡ç«¯çš„serviceï¼Œé€šè¿‡startIntentä¼ é€’ä¼ é€’å‚æ•°ç»™æœåŠ¡ç«¯çš„Activityï¼Œå¹¶ä¸”æ³¨å†Œå›è°ƒæ¥å£ã€‚æœåŠ¡ç«¯æ‹¿åˆ°ä¼ é€’è¿‡æ¥çš„æ•°æ®è¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼Œå½“ç‚¹å‡»æŒ‰é’®æ˜¯é€šè¿‡Messengerå‘serviceä¼ é€’æ•°æ®ï¼Œserviceæ”¶åˆ°Activityä¼ é€’æ¥çš„æ•°æ®åï¼Œé€šè¿‡RemoteCallbackListè°ƒç”¨å›è°ƒçš„æ¥å£å°†æ¥å—åˆ°çš„æ•°æ®ä¼ é€’ç»™å®¢æˆ·ç«¯çš„Activityï¼Œè¿™æ ·ä¾¿å®ç°äº†ä¸¤ä¸ªapkæ—¶é—´Activityçš„é€šä¿¡ã€‚ æœ€åé€šè¿‡ä¸€ç³»åˆ—çš„å®è·µä¸æµ‹è¯•å®ç°äº†apkä¹‹é—´çš„é€šä¿¡ï¼Œä½†æ˜¯ä¸æ¸…æ¥šæ”¯ä»˜å®ã€å¾®ä¿¡ç­‰sdkæ˜¯ä¸æ˜¯ä»¥è¿™ç§æ–¹å¼å®ç°ã€‚è¿™é‡Œä»…ä»…æ˜¯é€šè¿‡å­¦ä¹ AIDLå®ç°äº†ç±»ä¼¼äºè¿™ç§apkä¹‹é—´å¼‚æ­¥æ“ä½œçš„é€šä¿¡ï¼Œå½“ç„¶è¯´ä¸å®šæœ‰å…¶ä»–å®ç°çš„æ–¹å¼ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"AIDL","slug":"AIDL","permalink":"//dongqing123.cn/tags/AIDL/"},{"name":"è¿›ç¨‹é€šä¿¡","slug":"è¿›ç¨‹é€šä¿¡","permalink":"//dongqing123.cn/tags/è¿›ç¨‹é€šä¿¡/"}]},{"title":"androidåŠ¨ç”»ï¼ˆä¸€ï¼‰","date":"2017-03-15T08:36:26.000Z","path":"2017/03/15/androidåŠ¨ç”»-ä¸€/","text":"androidåŠ¨ç”»ä¸»è¦åˆ†ä¸ºä¸‰ç±»ï¼šè¡¥é—´åŠ¨ç”»ï¼ˆTween Animationï¼‰ã€é€å¸§åŠ¨ç”»ï¼ˆFrame Animationæˆ–Drawable Animationï¼‰å’Œå±æ€§åŠ¨ç”»ï¼ˆProperty Animationï¼‰ã€‚è¡¥é—´åŠ¨ç”»æˆ‘ä»¬å¹³æ—¶ç”¨çš„æ¯”è¾ƒå¤šï¼Œä¸»è¦ç”¨äºç®€å•çš„ç¼©æ”¾ã€å¹³ç§»ã€æ—‹è½¬ã€é€æ˜åº¦åŸºæœ¬çš„åŠ¨ç”»ã€‚é€å¸§åŠ¨ç”»ä¸»è¦æ˜¯é€šè¿‡ä¸€å¼ å¼ çš„å›¾ç‰‡æ¥äº§ç”ŸåŠ¨ç”»æ•ˆæœï¼Œå¦‚æˆ‘ä»¬è‡ªå®šä¹‰åˆ·æ–°çš„èŠèŠ±å›¾ç­‰ç­‰å±æ€§åŠ¨ç”»æ˜¯android3.0æ·»åŠ äº†ä¸€ç§æ–°çš„åŠ¨ç”»æ–¹å¼ï¼Œä¹‹å‰è¿˜åœ¨ç”¨nineoldandroidsæ¥å…¼å®¹android3.0ä»¥ä¸‹çš„ç‰ˆæœ¬ï¼Œä¸è¿‡ç°åœ¨2.2çš„ç³»ç»ŸåŸºæœ¬ä¸Šæ²¡æœ‰äº†ã€‚ä»Šå¤©æˆ‘ä»¬ä»‹ç»è¾ƒä¸ºç®€å•çš„è¡¥é—´ä¸é€å¸§åŠ¨ç”»ã€‚é€šå¸¸æˆ‘ä»¬åœ¨resç›®å½•æ–°å»ºanimçš„æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾åŠ¨ç”»çš„xmlæ–‡ä»¶ Tween Animation ç¼©æ”¾12345678&lt;scale xmlns:android=\"http://schemas.adnroid.com/apk/res/android\" android:fromXScale=\"1.0\"//ç¼©æ”¾xè½´æ¯”ä¾‹ android:toXScale=\"3.0\" android:fromYScale=\"1.0\"//ç¼©æ”¾yè½´æ¯”ä¾‹ android:toYScale=\"3.0\" android:pivotX=\"50%\"//ç¼©æ”¾èµ·ç‚¹Xè½´åæ ‡ï¼Œå¯ä»¥æ˜¯æ•°å€¼ã€ç™¾åˆ†æ•°ã€ç™¾åˆ†æ•°p ä¸‰ç§æ ·å¼ android:pivotY=\"50%\"//ç¼©æ”¾èµ·ç‚¹Yè½´åæ ‡/&gt; é™¤äº†è¿™äº›è¿˜æœ‰è¿™äº›å…±æœ‰åŠ¨ç”»å±æ€§ android:repeatCount é‡å¤æ¬¡æ•° android:repeatMode é‡å¤ç±»å‹ï¼Œæœ‰reverseå’Œrestartä¸¤ä¸ªå€¼ï¼Œreverseè¡¨ç¤ºå€’åºå›æ”¾ï¼Œrestartè¡¨ç¤ºé‡æ–°æ”¾ä¸€é,å¿…é¡»ä¸repeatCountä¸€èµ·ä½¿ç”¨æ‰èƒ½çœ‹åˆ°æ•ˆæœã€‚ android:fillAfter å¦‚æœè®¾ç½®ä¸ºtrueï¼Œæ§ä»¶åŠ¨ç”»ç»“æŸæ—¶ï¼Œå°†ä¿æŒåŠ¨ç”»æœ€åæ—¶çš„çŠ¶æ€ android:fillBefore å¦‚æœè®¾ç½®ä¸ºtrue,æ§ä»¶åŠ¨ç”»ç»“æŸæ—¶ï¼Œè¿˜åŸåˆ°å¼€å§‹åŠ¨ç”»å‰çš„çŠ¶æ€ android:fillEnabled ä¸fillBefore æ•ˆæœç›¸åŒã€‚ android:interpolator è®¾å®šæ’å€¼å™¨ï¼ˆä¹Ÿå«è¡¥é—´å™¨ï¼‰ã€‚ android:duration åŠ¨ç”»æŒç»­æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ æ’å€¼å™¨å¯ä»¥è®©åŠ¨ç”»æŒ‰ç…§ä¸€å®šçš„é¢‘ç‡è¿åŠ¨ï¼Œå®ç°åŠ é€Ÿã€åŠ é€Ÿã€é‡å¤ã€å›å¼¹ç­‰æ•ˆæœã€‚å¸¸ç”¨æ’å€¼å™¨åŠä½¿ç”¨ æ’å€¼å™¨ èµ„æºID(@android:anim/) è¯´æ˜ AccelerateDecelerateInterpolator accelerate_decelerate_interpolator åœ¨åŠ¨ç”»å¼€å§‹ä¸ç»“æŸçš„åœ°æ–¹é€Ÿç‡æ”¹å˜æ¯”è¾ƒæ…¢ï¼Œåœ¨ä¸­é—´çš„æ—¶å€™åŠ é€Ÿ AccelerateInterpolator accelerate_interpolator åœ¨åŠ¨ç”»å¼€å§‹çš„åœ°æ–¹é€Ÿç‡æ”¹å˜æ¯”è¾ƒæ…¢ï¼Œç„¶åå¼€å§‹åŠ é€Ÿ AnticipateInterpolator anticipate_interpolator å¼€å§‹çš„æ—¶å€™å‘åç„¶åå‘å‰ç”© AnticipateOvershootInterpolator anticipate_overshoot_interpolator å¼€å§‹çš„æ—¶å€™å‘åç„¶åå‘å‰ç”©ä¸€å®šå€¼åè¿”å›æœ€åçš„å€¼ BounceInterpolator bounce_interpolator åŠ¨ç”»ç»“æŸçš„æ—¶å€™å¼¹èµ· CycleInterpolator cycle_interpolator åŠ¨ç”»å¾ªç¯æ’­æ”¾ç‰¹å®šçš„æ¬¡æ•°ï¼Œé€Ÿç‡æ”¹å˜æ²¿ç€æ­£å¼¦æ›²çº¿ DecelerateInterpolator decelerate_interpolator åœ¨åŠ¨ç”»å¼€å§‹çš„åœ°æ–¹å¿«ç„¶åæ…¢ LinearInterpolator linear_interpolator ä»¥å¸¸é‡é€Ÿç‡æ”¹å˜ OvershootInterpolator overshoot_interpolator å‘å‰ç”©ä¸€å®šå€¼åå†å›åˆ°åŸæ¥ä½ç½® å¹³ç§» 1234567&lt;translate xmlns:android=\"http://schemas.android.com/apk/res/android\" android:duration=\"300\" android:fromXDelta=\"0\"//èµ·å§‹ç‚¹Xè½´åæ ‡ï¼Œå¯ä»¥æ˜¯æ•°å€¼ã€ç™¾åˆ†æ•°ã€ç™¾åˆ†æ•°p ä¸‰ç§æ ·å¼ android:toXDelta=\"100%p\"//ç»“æŸç‚¹Xè½´åæ ‡ android:fromYDelta=\"0\"//èµ·å§‹ç‚¹Yè½´åæ ‡ android:toYDelta=\"100%p\"// ç»“æŸç‚¹Yè½´åæ ‡/&gt; æ—‹è½¬ 1234567&lt;rotate xmlns:android=\"http://schemas.android.com/apk/res/android\" android:duration=\"300\" android:fromDegrees=\"0\"//å¼€å§‹æ—‹è½¬çš„è§’åº¦ä½ç½®ï¼Œæ­£å€¼ä»£è¡¨é¡ºæ—¶é’ˆæ–¹å‘åº¦æ•°ï¼Œè´Ÿå€¼ä»£ç é€†æ—¶é’ˆæ–¹å‘åº¦æ•° android:toDegrees=\"360\"//ç»“æŸæ—¶æ—‹è½¬åˆ°çš„è§’åº¦ä½ç½® android:pivotY=\"50%\"// æ—‹è½¬èµ·ç‚¹Xè½´åæ ‡ï¼Œå¯ä»¥æ˜¯æ•°å€¼ã€ç™¾åˆ†æ•°ã€ç™¾åˆ†æ•°p ä¸‰ç§æ ·å¼ android:pivotX=\"50%\" //æ—‹è½¬èµ·ç‚¹Yè½´åæ ‡/&gt; é€æ˜åº¦ 12345&lt;alpha xmlns:android=\"http://schemas.android.com/apk/res/android\" android:duration=\"300\" android:fromAlpha=\"0.1\"//åŠ¨ç”»å¼€å§‹çš„é€æ˜åº¦ï¼Œä»0.0 --1.0 ï¼Œ0.0è¡¨ç¤ºå…¨é€æ˜ï¼Œ1.0è¡¨ç¤ºå®Œå…¨ä¸é€æ˜ android:toAlpha=\"1\"//åŠ¨ç”»ç»“æŸæ—¶çš„é€æ˜åº¦/&gt; 5.ç»„åˆåŠ¨ç”»åœ¨å®é™…ä½¿ç”¨ä¸­æˆ‘ä»¬å¾€å¾€éœ€è¦å‡ ç§åŠ¨ç”»åŒæ—¶äº§ç”Ÿæ•ˆæœï¼Œæ¯”å¦‚éœ€è¦å›¾ç‰‡æœ‰å°åˆ°å¤§ã€æ—‹è½¬åŠ æ¸å˜æ˜¾ç¤ºï¼Œè¿™æ—¶å€™å•ä¸€çš„åŠ¨ç”»æ•ˆæœå·²ç»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ç»„åˆåŠ¨ç”»çš„æ ‡ç­¾set12345678910111213141516171819&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\" android:duration=\"500\" android:fillAfter=\"true\"&gt; &lt;scale android:fromXScale=\"0\" android:fromYScale=\"0\" android:pivotX=\"50%\" android:pivotY=\"50%\" android:toXScale=\"1\" android:toYScale=\"1\" /&gt; &lt;rotate android:fromDegrees=\"0\" android:pivotX=\"50%\" android:pivotY=\"50%\" android:toDegrees=\"360\" /&gt; &lt;alpha android:fromAlpha=\"0\" android:toAlpha=\"1\" /&gt;&lt;/set&gt; å½“ç„¶é™¤äº†å°†åŠ¨ç”»ç°åœ¨xmlä¸­ï¼Œä¹Ÿå¯é€šè¿‡çº¯Javaæ¥å®ç°ï¼Œèµ·å¯¹åº”å…³ç³»å¦‚ä¸‹ åŠ¨ç”»ç±»å‹ xmlé…ç½® çº¯Java é€æ˜åº¦ &lt; alpha /&gt; AlphaAnimation ç¼©æ”¾ &lt; scale /&gt; ScaleAnimation æ—‹è½¬ &lt; rotate /&gt; RotateAnimation ç§»åŠ¨ &lt; translate /&gt; TranslateAnimation ç»„åˆåŠ¨ç”» &lt; set /&gt; AnimationSet Activityä¸­ä¸»è¦é€šè¿‡ä»¥ä¸‹ä»£ç è°ƒç”¨123456789101112131415161718192021//åŠ è½½åŠ¨ç”»èµ„æºAnimation anim= AnimationUtils.loadAnimation(this,R.anim.anim);//å¼€å§‹åŠ¨ç”»anim.start();//ç›‘å¬åŠ¨ç”»anim.setAnimationListener(new Animation.AnimationListener() &#123; @Override public void onAnimationStart(Animation animation) &#123; &#125; @Override public void onAnimationEnd(Animation animation) &#123; &#125; @Override public void onAnimationRepeat(Animation animation) &#123; &#125;&#125;); Frame Animationé€å¸§åŠ¨ç”»ä¸»è¦æ˜¯é€šè¿‡animation-listæ ‡ç­¾å®ç°12345678&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\" android:oneshot=\"false\"&gt;//åŠ¨ç”»æ˜¯å¦å¾ªç¯æ’­æ”¾ &lt;item android:drawable=\"@mipmap/loading_1\" android:duration=\"50\"/&gt;//drawableæ˜¯å›¾ç‰‡èµ„æºã€durationä¸ºæ—¶é—´ &lt;item android:drawable=\"@mipmap/loading_2\" android:duration=\"50\"/&gt; &lt;item android:drawable=\"@mipmap/loading_3\" android:duration=\"50\"/&gt; &lt;item android:drawable=\"@mipmap/loading_4\" android:duration=\"50\"/&gt; &lt;item android:drawable=\"@mipmap/loading_5\" android:duration=\"50\"/&gt;&lt;/animation-list&gt; ç„¶ååœ¨å¸ƒå±€æ–‡ä»¶12345&lt;ImageView android:id=\"@+id/image\" android:layout_width=\"wrap_content\" android:layout_height=\"match_parent\" android:src=\"@drawable/anim\"/&gt; æœ€å123ImageView iv=(ImageView)findViewById(R.id.image);AnimationDrawable ad = (AnimationDrawable) iv.getDrawable(); iv.start(); è¿™æœŸæˆ‘ä»¬å°±ç®€å•ä»‹ç»åŠ¨ç”»çš„ç±»å‹ï¼Œä»¥åŠåŸºæœ¬çš„åŠ¨ç”»å®ç°ï¼Œä¸‹æœŸæˆ‘ä»¬ä»‹ç»å±æ€§åŠ¨ç”»çš„ç›¸å…³å†…å®¹ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"åŠ¨ç”»","slug":"åŠ¨ç”»","permalink":"//dongqing123.cn/tags/åŠ¨ç”»/"}]},{"title":"æ•°æ®åº“greenDAOçš„ä½¿ç”¨ï¼ˆå››ï¼‰","date":"2017-03-13T09:12:25.000Z","path":"2017/03/13/æ•°æ®åº“greenDAOçš„ä½¿ç”¨-å››/","text":"ä¸Šä¸€ç¯‡æ•°æ®åº“greenDAOçš„ä½¿ç”¨ï¼ˆä¸‰ï¼‰æˆ‘ä»¬ä»‹ç»äº†greenDAOæ•°æ®åº“çš„å‡çº§é—®é¢˜ï¼Œå¹¶ä¸”è‡ªå®šä¹‰äº†æ•°æ®åº“çš„è·¯å¾„ï¼Œå½“æ—¶æˆ‘ä»¬å°±æåˆ°æ”¾åœ¨sdå¡ä¸Šå¦‚ä½•ä¿è¯æ•°æ®åº“çš„å®‰å…¨ï¼Œä»Šå¤©æˆ‘ä»¬å°±ä½¿ç”¨greenDAOçš„åŠ å¯†æŠ€æœ¯è§£å†³å®‰å…¨é—®é¢˜ã€‚é¦–å…ˆæ·»åŠ åŠ å¯†æ‰€éœ€çš„ä¾èµ–åº“1234dependencies &#123; ... compile 'net.zetetic:android-database-sqlcipher:3.5.1'&#125; æˆ‘ä»¬åªéœ€è¦ç®€å•çš„ä¿®æ”¹GreenDaoManagerçš„initæ–¹æ³•123456private void init() &#123; SQLiteOpenHelper devOpenHelper = new SQLiteOpenHelper(new GreenDaoContext(), \"scale.db\");// mDaoMaster = new DaoMaster(devOpenHelper.getWritableDatabase()); mDaoMaster=new DaoMaster(devOpenHelper.getEncryptedWritableDb(\"secret\")); mDaoSession = mDaoMaster.newSession();&#125; ä½¿ç”¨getEncryptedWritableDbä¾¿å¯è®©æ•°æ®åº“åŠ å¯†ï¼Œå‚æ•°ä¸ºç§˜é’¥çš„å­—ç¬¦ä¸²æˆ–å­—ç¬¦æ•°ç»„ã€‚è¿™æ ·æˆ‘ä»¬ä¾¿çœ‹ä¸åˆ°æ•°æ®åº“é‡Œé¢çš„æ•°æ®äº†ã€‚åˆ°è¿™é‡ŒgreenDAOçš„ä½¿ç”¨å°±å…¨éƒ¨ç»“æŸäº†ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"//dongqing123.cn/tags/æ•°æ®åº“/"},{"name":"greenDAO","slug":"greenDAO","permalink":"//dongqing123.cn/tags/greenDAO/"}]},{"title":"æ•°æ®åº“greenDAOçš„ä½¿ç”¨ï¼ˆä¸‰ï¼‰","date":"2017-03-10T02:04:50.000Z","path":"2017/03/10/æ•°æ®åº“greenDAOçš„ä½¿ç”¨-ä¸‰/","text":"ä¸Šä¸€ç¯‡æ•°æ®åº“greenDAOçš„ä½¿ç”¨ï¼ˆäºŒï¼‰ä»‹ç»çš„æ•°æ®åº“çš„åŸºæœ¬æ“ä½œï¼Œä»Šå¤©æˆ‘ä»¬ä¾¿ä»‹ç»æ•°æ®åº“å‡çº§çš„é—®é¢˜ã€‚å½“æˆ‘ä»¬çš„åº”ç”¨å·²æŠ•å…¥ä½¿ç”¨ï¼Œæ–°ç‰ˆæœ¬ä¸­ä¿®æ”¹äº†è¡¨ç»“æ„ã€æˆ–è€…å¢åŠ äº†è¡¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±ä¿®æ”¹è€ƒè™‘æ•°æ®åº“å‡çº§çš„é—®é¢˜äº†ã€‚è¿™æ˜¯å¦‚æœæˆ‘ä»¬ä¸ä¿®æ”¹æ•°æ®åº“ç‰ˆæœ¬è‚¯å®šä¼šcrashï¼Œä½†æ˜¯ä»…ä»…åªæ˜¯ä¿®æ”¹ç‰ˆæœ¬çš„è¯æ˜¯ä¸è¡Œçš„ã€‚æŸ¥çœ‹DaoMasterä»£ç å‘ç°1234567891011121314151617/** WARNING: Drops all table on Upgrade! Use only during development. */public static class DevOpenHelper extends OpenHelper &#123; public DevOpenHelper(Context context, String name) &#123; super(context, name); &#125; public DevOpenHelper(Context context, String name, CursorFactory factory) &#123; super(context, name, factory); &#125; @Override public void onUpgrade(Database db, int oldVersion, int newVersion) &#123; Log.i(\"greenDAO\", \"Upgrading schema from version \" + oldVersion + \" to \" + newVersion + \" by dropping all tables\"); dropAllTables(db, true); onCreate(db); &#125;&#125; å®ƒç«Ÿç„¶åˆ é™¤äº†æ‰€æœ‰çš„è¡¨ï¼Œç„¶åé‡æ–°åˆ›å»ºï¼Œè¿™æ ·æ•°æ®è‚¯å®šå°±æ²¡æœ‰äº†ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªhelpæ¥å®ç°DaoMaster.OpenHelperï¼ˆDaoMasteræ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼‰1234567891011121314public class SQLiteOpenHelper extends DaoMaster.OpenHelper &#123; public SQLiteOpenHelper(Context context, String name) &#123; super(context, name); &#125; public SQLiteOpenHelper(Context context, String name, SQLiteDatabase.CursorFactory factory) &#123; super(context, name, factory); &#125; @Override public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) &#123; super.onUpgrade(db, oldVersion, newVersion); &#125;&#125; ç„¶ååœ¨GreenDaoManagerç±»ä¸­ä¿®æ”¹init1234567private void init()&#123;// DaoMaster.DevOpenHelper devOpenHelper = new DaoMaster.DevOpenHelper(App.getAppContext(), \"test.db\"); SQLiteOpenHelper devOpenHelper = new SQLiteOpenHelper(App.getAppContext(), \"test.db\"); mDaoMaster = new DaoMaster(devOpenHelper.getWritableDatabase()); mDaoSession = mDaoMaster.newSession();&#125; è¿™æ ·å°±ä¼šä½¿ç”¨æˆ‘ä»¬è‡ªå·²çš„OpenHelpeç±»äº†ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆå‡çº§æ•°æ®åº“ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸´æ—¶æ•°æ®åº“ï¼Œå°†æˆ‘ä»¬æ—§æ•°æ®åº“å¤‡ä»½åˆ°ä¸´æ—¶æ•°æ®åº“ä¸­ï¼Œç„¶ååˆ é™¤æ—§æ•°æ®åº“ï¼Œå»ºç«‹æ–°æ•°æ®åº“ï¼Œç„¶åæ¢å¤ä¸´æ—¶åº“åˆ°æ–°æ•°æ®åº“ä¸­ï¼Œæœ€ååˆ æ‰ä¸´æ—¶æ•°æ®åº“ã€‚è¯´èµ·æ¥ç®€å•ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿæœæ–­googleï¼Œçš‡å¤©ä¸è´Ÿæœ‰å¿ƒäººå•Šstackoverflowä¸Šæœ‰äººç»™å‡ºäº†è§£å†³æ–¹æ¡ˆhttp://stackoverflow.com/questions/13373170/greendao-schema-update-and-data-migration ï¼Œè€Œä¸”æœ‰äººæ”¾åˆ°äº†githubä¸Šé¢https://github.com/yuweiguocn/GreenDaoUpgradeHelper ï¼Œè¿™æ ·æˆ‘ä»¬çš„é—®é¢˜å°±è¿åˆƒè€Œè§£äº†ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„SQLiteOpenHelperï¼Œå‡è®¾æˆ‘ä»¬1.0ç‰ˆæœ¬çš„å®ä½“ç±»ä¸º123456789@Entitypublic class User &#123; @Id(autoincrement = true) private Long id; private String name; //@Transient private String sex; private Integer age;&#125; åœ¨2.0ä¸­æˆ‘ä»¬æ·»åŠ æ³¨é‡ŠåŠå­—æ®µsexä¸åœ¨è¡¨ä¸­ï¼Œå¹¶ä¸”å¢åŠ äº†æ–°çš„å®ä½“123456789@Entitypublic class Food &#123; @Id(autoincrement = true) private Long id; private String name; private String price; private String weight; private String total;&#125; è¿™æ ·æ–°çš„æ•°æ®åº“ä¸­åº”è¯¥æœ‰ä¸¤å¼ è¡¨å¹¶ä¸”Userä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„sexå­—æ®µã€‚ é¦–å…ˆæˆ‘ä»¬ä¿®æ”¹gradleçš„é…ç½®ï¼Œå°†æ•°æ®åº“çš„ç‰ˆæœ¬+112345greendao &#123; schemaVersion 2 daoPackage 'com.greendao.gen' targetGenDir 'src/main/java'&#125; ç„¶åæˆ‘ä»¬ä¿®æ”¹SQLiteOpenHelperçš„æ–¹æ³•12345@Overridepublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) &#123;// super.onUpgrade(db, oldVersion, newVersion); MigrationHelper.migrate(db,UserDao.class, FoodDao.class);&#125; è¿™æ ·å½“æœ‰æ–°ç‰ˆæœ¬çš„æ•°æ®åº“æ—¶ä¾¿æ‰§è¡ŒonUpgradeæ–¹æ³•å®ç°æ•°æ®åº“çš„å‡çº§ã€‚ç°åœ¨æˆ‘ä»¬å°±æµ‹è¯•ä¸€ä¸‹é¦–å…ˆæˆ‘ä»¬ç¬¬ä¸€ç‰ˆæœ¬ä¸­æ’ä¸€æ¡æ•°æ®12345UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();userDao.insert(new User(null, \"é»æ˜\",18));if(userDao.loadAll().size()&gt;0)&#123; text.setText(userDao.loadAll().get(0).getName());&#125; æˆ‘ä»¬æŸ¥çœ‹è¿è¡Œæ•ˆæœï¼Œå¯¼å‡ºæ•°æ®åº“æŸ¥çœ‹æ•°æ® ç°åœ¨æˆ‘ä»¬å‡çº§æ•°æ®åº“é¦–å…ˆçœ‹æ–°çš„æ•°æ®åº“ä¸­æ—§æ•°æ®å­˜åœ¨æ²¡æœ‰12345UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();List&lt;User&gt;list=userDao.queryBuilder().where(UserDao.Properties.Name.eq(\"é»æ˜\")).list();if(list.size()!=0)&#123; text.setText(list.get(0).getName());&#125; å¯ä»¥çœ‹åˆ°å‡çº§æˆåŠŸæ—§æ•°æ®è¿˜å­˜åœ¨ï¼Œå¹¶ä¸”æ•°æ®åº“Userè¡¨ç»“æ„å¢åŠ äº†sexå­—æ®µï¼Œä¹Ÿæ·»åŠ äº†foodè¡¨ã€‚ ç°åœ¨æˆ‘ä»¬ä¾¿å¯ä»¥æ„‰å¿«çš„æ“ä½œæ–°ç‰ˆäº†12345678910111213141516171819202122232425UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();List&lt;User&gt;list=userDao.queryBuilder().where(UserDao.Properties.Name.eq(\"é»æ˜\")).list();if(list.size()!=0)&#123; User user=list.get(0); user.setSex(\"ç”·\"); userDao.update(user);&#125;FoodDao foodDao=GreenDaoManager.getInstance().getmDaoSession().getFoodDao();Food food=new Food(null,\"ç™½èœ\",\"1.60\",\"2.00\",\"3.20\");foodDao.insert(food);StringBuilder sb=new StringBuilder();if(userDao.loadByRowId(1)!=null)&#123; sb.append(\"User: \"); sb.append(userDao.loadByRowId(1).getName()+\" \"); sb.append(userDao.loadByRowId(1).getSex()+\"\\n\");&#125;if(foodDao.loadByRowId(1)!=null)&#123; sb.append(\"Food: \"); sb.append(foodDao.loadByRowId(1).getName()+\" \"); sb.append(foodDao.loadByRowId(1).getPrice()+\" \"); sb.append(foodDao.loadByRowId(1).getWeight()+\" \"); sb.append(foodDao.loadByRowId(1).getTotal()+\"\\n\");&#125;text.setText(sb.toString()); æ˜¯ä¸æ˜¯éƒ½æˆåŠŸäº†å‘¢ï¼Œè¿™æ ·æˆ‘ä»¬å‡çº§æ•°æ®åº“çš„å¤§ä»»å°±æ­¤ç»“æŸäº†ã€‚å½“ç„¶å¯èƒ½æœ‰äººä¼šé—®ï¼Œå¦‚æœæˆ‘ç”¨çœŸæœºè¯¥å¦‚ä½•å¯¼å‡ºæ•°æ®åº“å‘¢ï¼Œæ˜¯æœ‰åŠæ³•çš„ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥ä¿®æ”¹æ•°æ®åº“çš„ä½ç½®çš„ã€‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ªç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667public class GreenDaoContext extends ContextWrapper &#123; private String currentUserId; private Context mContext; public GreenDaoContext() &#123; super(App.getInstance().getApplicationContext()); this.mContext = App.getInstance().getApplicationContext(); this.currentUserId = \"greendao\";//ç›®å½• &#125; /** * è·å¾—æ•°æ®åº“è·¯å¾„ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå¯¹è±¡ * * @param dbName */ @Override public File getDatabasePath(String dbName) &#123; File baseFile = new File(\"/sdcard\"); StringBuffer buffer = new StringBuffer(); buffer.append(baseFile.getPath()); buffer.append(File.separator); buffer.append(currentUserId); String dbDir = buffer.toString();// æ•°æ®åº“æ‰€åœ¨ç›®å½• buffer.append(File.separator); buffer.append(dbName); File dirFile = new File(dbDir); if (!dirFile.exists())&#123; dirFile.mkdirs(); &#125; return new File(buffer.toString()); &#125; /** * é‡è½½è¿™ä¸ªæ–¹æ³•ï¼Œæ˜¯ç”¨æ¥æ‰“å¼€SDå¡ä¸Šçš„æ•°æ®åº“çš„ï¼Œandroid 2.3åŠä»¥ä¸‹ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚ * * @param name * @param mode * @param factory */ @Override public SQLiteDatabase openOrCreateDatabase(String name, int mode, SQLiteDatabase.CursorFactory factory) &#123; SQLiteDatabase result = SQLiteDatabase.openOrCreateDatabase(getDatabasePath(name), factory); return result; &#125; /** * Android 4.0ä¼šè°ƒç”¨æ­¤æ–¹æ³•è·å–æ•°æ®åº“ã€‚ * * @param name * @param mode * @param factory * @param errorHandler * @see android.content.ContextWrapper#openOrCreateDatabase(java.lang.String, int, * android.database.sqlite.SQLiteDatabase.CursorFactory, * android.database.DatabaseErrorHandler) */ @Override public SQLiteDatabase openOrCreateDatabase(String name, int mode, SQLiteDatabase.CursorFactory factory, DatabaseErrorHandler errorHandler) &#123; SQLiteDatabase result = SQLiteDatabase.openOrCreateDatabase(getDatabasePath(name), factory); return result; &#125;&#125; ç„¶åä¿®æ”¹GreenDaoManagerä¸­initæ–¹æ³•1234567private void init()&#123;// DaoMaster.DevOpenHelper devOpenHelper = new DaoMaster.DevOpenHelper(App.getAppContext(), \"test.db\"); SQLiteOpenHelper devOpenHelper = new SQLiteOpenHelper(/*App.getAppContext()*/new GreenDaoContext(), \"test.db\"); mDaoMaster = new DaoMaster(devOpenHelper.getWritableDatabase()); mDaoSession = mDaoMaster.newSession();&#125; å½“ç„¶æˆ‘ä»¬ä¸è¦å¿˜è®°æ·»åŠ SDå¡çš„è¯»å†™æƒé™ï¼Œè¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥åœ¨æŒ‡å®šçš„ç›®å½•ä¸‹æŸ¥çœ‹æˆ‘ä»¬çš„æ•°æ®åº“äº†ã€‚æ‚¨å¯èƒ½ä¼šæ‹…å¿ƒæ•°æ®çš„å®‰å…¨é—®é¢˜ï¼Œæ”¾åœ¨SDå¡ä¸Šä¸å°±å¯ä»¥äººäººæŸ¥çœ‹äº†å—ï¼Ÿä¸ç”¨æ‹…å¿ƒï¼Œä¸‹æœŸæˆ‘ä»¬ä»‹ç»greenDAOæ•°æ®åº“çš„åŠ å¯†ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"//dongqing123.cn/tags/æ•°æ®åº“/"},{"name":"greenDAO","slug":"greenDAO","permalink":"//dongqing123.cn/tags/greenDAO/"}]},{"title":"æ•°æ®åº“greenDAOçš„ä½¿ç”¨ï¼ˆäºŒï¼‰","date":"2017-03-09T02:02:10.000Z","path":"2017/03/09/æ•°æ®åº“greenDAOçš„ä½¿ç”¨-äºŒ/","text":"ä¸Šä¸€ç¯‡æ•°æ®åº“greenDAOçš„ä½¿ç”¨ï¼ˆä¸€ï¼‰æˆ‘ä»¬ä»‹ç»äº†greenDAOçš„ç›¸å…³é…ç½®ä¸æ³¨è§£ï¼Œç°åœ¨å¼€å§‹ä»‹ç»æ•°æ®çš„æ“ä½œå¢ã€åˆ ã€æŸ¥ã€æ”¹ã€‚é¦–å…ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ªå®ä½“ç±»12345678910@Entitypublic class User &#123; @Id(autoincrement = true) private Long id; private String name; @Transient private String sex; //@Transient private Integer age;&#125; ç‚¹å‡»å·¥å…·æ Buildèœå•ä¸‹çš„Make Projectï¼ˆMacå¿«æ·é”® âŒ˜F9 )ï¼Œé¡¹ç›®ä¼šè‡ªåŠ¨æ„å»ºï¼Œåœ¨æˆ‘ä»¬è®¾ç½®çš„daoPackageï¼ˆé»˜è®¤åŒ…å.genï¼‰ç›®å½•ä¸‹ç”Ÿæˆç›¸åº”çš„DaoMasterã€DaoSessionåŠUserDaoï¼Œç›¸åº”çš„Uerç±»ä¹Ÿä¼šè‡ªåŠ¨ç”Ÿæˆæ„é€ ä¸setã€getæ–¹æ³•ã€‚ç„¶åæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç®¡ç†ç±»ç”¨äºè·å–DaoMasterä¸DaoSession123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051public class GreenDaoManager&#123; private DaoMaster mDaoMaster; private DaoSession mDaoSession; private GreenDaoManager() &#123; init(); &#125; /** * é™æ€å†…éƒ¨ç±»ï¼Œå®ä¾‹åŒ–å¯¹è±¡ä½¿ç”¨ */ private static class SingleInstanceHolder &#123; private static final GreenDaoManager INSTANCE = new GreenDaoManager(); &#125; /** * å¯¹å¤–å”¯ä¸€å®ä¾‹çš„æ¥å£ * * @return */ public static GreenDaoManager getInstance() &#123; return SingleInstanceHolder.INSTANCE; &#125; /** * åˆå§‹åŒ–æ•°æ® */ private void init() &#123; DaoMaster.DevOpenHelper devOpenHelper = new DaoMaster.DevOpenHelper(App.getAppContext(), \"test.db\"); mDaoMaster = new DaoMaster(devOpenHelper.getWritableDatabase()); mDaoSession = mDaoMaster.newSession(); &#125; public DaoMaster getmDaoMaster() &#123; return mDaoMaster; &#125; public DaoSession getmDaoSession() &#123; return mDaoSession; &#125; public DaoSession getNewSession() &#123; mDaoSession = mDaoMaster.newSession(); return mDaoSession; &#125;&#125; åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰application1234567891011121314151617public class App extends Application &#123; private static App INSTANCE; public static App getInstance() &#123; return INSTANCE; &#125; @Override public void onCreate() &#123; super.onCreate(); INSTANCE = this; GreenDaoManager.getInstance(); &#125; public static Context getAppContext()&#123; return INSTANCE.getApplicationContext(); &#125;&#125; è¿™æ ·åŸºæœ¬çš„é…ç½®ç»“ç»“æŸäº†AbstractDaoå¸¸ç”¨æ–¹æ³• å¢ insert(T entity)ï¼šå°†ç»™å®šçš„å®ä½“æ’å…¥æ•°æ®åº“ insertWithoutSettingPk(T entity)ï¼šå°†ç»™å®šçš„å®ä½“æ’å…¥æ•°æ®åº“,ä½†ä¸è®¾å®šä¸»é”® insertInTx(Iterable entities)ï¼šä½¿ç”¨äº‹åŠ¡æ“ä½œï¼Œå°†ç»™å®šçš„å®ä½“é›†åˆæ’å…¥æ•°æ®åº“ insertInTx(Iterable entities, boolean setPrimaryKey)ä½¿ç”¨äº‹åŠ¡æ“ä½œï¼Œå°†ç»™å®šçš„å®ä½“é›†åˆæ’å…¥æ•°æ®åº“ï¼Œ å¹¶è®¾ç½®æ˜¯å¦è®¾å®šä¸»é”® insertInTx(Tâ€¦ entities)ï¼šå°†ç»™å®šçš„å®ä½“æ’å…¥æ•°æ®åº“ insertOrReplace(T entity)ï¼šå°†ç»™å®šçš„å®ä½“æ’å…¥æ•°æ®åº“ï¼Œè‹¥æ­¤å®ä½“å­˜åœ¨ï¼Œåˆ™è¦†ç›– insertOrReplaceInTx(Iterable entities)ï¼šä½¿ç”¨äº‹åŠ¡æ“ä½œï¼Œå°†ç»™å®šçš„å®ä½“æ’å…¥æ•°æ®åº“ï¼Œè‹¥æ­¤å®ä½“å­˜åœ¨åˆ™è¦†ç›– insertOrReplaceInTx(Iterable entities, boolean setPrimaryKey)ä½¿ç”¨äº‹åŠ¡æ“ä½œï¼Œå°†ç»™å®šçš„å®ä½“æ’å…¥æ•°æ®åº“ï¼Œè‹¥æ­¤å®ä½“å­˜åœ¨åˆ™è¦†ç›–ï¼Œå¹¶è®¾ç½®æ˜¯å¦è®¾å®šä¸»é”® insertOrReplaceInTx(Tâ€¦ entities)ï¼šç”¨äº‹åŠ¡æ“ä½œï¼Œå°†ç»™å®šçš„å®ä½“æ’å…¥æ•°æ®åº“ï¼Œè‹¥æ­¤å®ä½“ç±»åœ¨åˆ™è¦†ç›– 12345UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();userDao.insert(new User(null, \"é»æ˜\",18));if(userDao.loadAll().size()&gt;0)&#123; ext.setText(userDao.loadAll().get(0).getName());&#125; åˆ  delete(T entity)ï¼šä»æ•°æ®åº“ä¸­åˆ é™¤ç»™å®šçš„å®ä½“ deleteAll() ï¼šåˆ é™¤æ•°æ®åº“ä¸­å…¨éƒ¨æ•°æ® deleteByKey(K key)ï¼šä»æ•°æ®åº“ä¸­åˆ é™¤ç»™å®šKeyæ‰€å¯¹åº”çš„å®ä½“ deleteByKeyInTx(java.lang.Iterable keys)ï¼šä½¿ç”¨äº‹åŠ¡æ“ä½œåˆ é™¤æ•°æ®åº“ä¸­ç»™å®šçš„æ‰€æœ‰keyæ‰€å¯¹åº”çš„å®ä½“ deleteByKeyInTx(Kâ€¦ keys)ï¼šä½¿ç”¨äº‹åŠ¡æ“ä½œåˆ é™¤æ•°æ®åº“ä¸­ç»™å®šçš„æ‰€æœ‰keyæ‰€å¯¹åº”çš„å®ä½“ deleteInTx(java.lang.Iterable entities)ï¼šä½¿ç”¨äº‹åŠ¡æ“ä½œåˆ é™¤æ•°æ®åº“ä¸­ç»™å®šå®ä½“é›†åˆä¸­çš„å®ä½“ deleteInTx(Tâ€¦ entities)ï¼šä½¿ç”¨äº‹åŠ¡æ“ä½œåˆ é™¤æ•°æ®åº“ä¸­ç»™å®šçš„å®ä½“ 12345UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();userDao.deleteByKey(1l); if(userDao.loadAll().size()&gt;0)&#123; text.setText(userDao.loadAll().get(0).getName());&#125; æŸ¥ T load(K key)ï¼šåŠ è½½ç»™å®šä¸»é”®çš„å®ä½“ java.util.List loadAll() T loadByRowId(long rowId) ï¼šåŠ è½½æŸä¸€è¡Œå¹¶è¿”å›è¯¥è¡Œçš„å®ä½“ 12UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();userDao.loadByRowId(1l) æ”¹ update(T entity) ï¼šæ›´æ–°ç»™å®šçš„å®ä½“ updateInTx(java.lang.Iterable entities) ï¼šä½¿ç”¨äº‹åŠ¡æ“ä½œï¼Œæ›´æ–°ç»™å®šçš„å®ä½“ updateInTx(Tâ€¦ entities)ï¼šä½¿ç”¨äº‹åŠ¡æ“ä½œï¼Œæ›´æ–°ç»™å®šçš„å®ä½“ 123456789UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();User user = userDao.load(1l)if (user != null) &#123; user.setAge(30); userDao.update(user);&#125;if(userDao.loadAll().size()&gt;0)&#123; text.setText(userDao.loadAll().get(0).getAge());&#125; greenDAOæ”¯æŒä½¿ç”¨queryBuilderå®ç°æ›´åŠ å¤æ‚çš„æŸ¥è¯¢ queryBuilderQueryBuilderèƒ½å¤Ÿè®©ä½ åœ¨ä¸æ¶‰åŠSQLè¯­å¥çš„æƒ…å†µä¸‹æŸ¥è¯¢å®ä½“ã€‚1.whereï¼šæ¡ä»¶æŸ¥è¯¢ å‚æ•°ä¸ºé€»è¾‘ä¸çš„å…³ç³»ï¼ˆANDï¼‰ æŸ¥è¯¢å§“åæ˜¯é»æ˜å¹¶ä¸”å¹´é¾„&gt;=10çš„æ•°æ®1234UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();QueryBuilder qb=userDao.queryBuilder();qb.where(UserDao.Properties.Name.eq(\"é»æ˜\"), UserDao.Properties.Age.ge(10));List&lt;User&gt; list= qb.list(); å…³äºå±æ€§çš„ä¸€äº›æ“ä½œ eqï¼š= notEqï¼š&lt;&gt; like:LIKE betweenï¼šBETWEEN â€¦ AND â€¦ inï¼šIN (â€¦, â€¦, â€¦) notInï¼šNOT IN (â€¦, â€¦, â€¦) gtï¼š&gt; ltï¼š&lt; geï¼š&gt;= leï¼š&lt;= isNullï¼šIS NULL isNotNullï¼šIS NOT NULL 2.whereOrï¼šæ¡ä»¶æŸ¥è¯¢ å‚æ•°ä¸ºé€»è¾‘æˆ–çš„å…³ç³»ï¼ˆORï¼‰ æŸ¥è¯¢å§“åæ˜¯é»æ˜æˆ–è€…å¹´é¾„&gt;=10çš„æ•°æ®1234UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();QueryBuilder qb=userDao.queryBuilder();qb.whereOr(UserDao.Properties.Name.eq(\"é»æ˜\"), UserDao.Properties.Age.ge(10));List&lt;User&gt; list= qb.list(); 3.orï¼šæ¡ä»¶ORåœ¨whereæˆ–è€…whereOré‡Œé¢ä½¿ç”¨4.andï¼šæ¡ä»¶ANDåœ¨whereæˆ–è€…whereOré‡Œé¢ä½¿ç”¨5.joinï¼šè¿è¡¨æŸ¥è¯¢è¿™é‡Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªAddressçš„è¡¨123456@Entitypublic class Address &#123; @Id(autoincrement = true) private Long id; private String name;&#125; ç„¶åæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªToOneçš„å…³ç³»1234567@Entitypublic class User &#123; ... private Long aid; @ToOne(joinProperty = \"aid\") private Address address;&#125; ç„¶åMake Project è‡ªåŠ¨ç”Ÿæˆç›¸å…³ä»£ç å‡è®¾æˆ‘ä»¬Addressè¡¨ä¸­æ·»åŠ å¦‚ä¸‹æ•°æ®1234AddressDao addressDao=GreenDaoManager.getInstance().getmDaoSession().getAddressDao();addressDao.insert(new Address(null,\"åŒ—äº¬\"));addressDao.insert(new Address(null,\"ä¸Šæµ·\"));addressDao.insert(new Address(null,\"æ·±åœ³\")); æ’å…¥ä¸€æ¡ç”¨æˆ·æ•°æ®1userDao.insert(new User(null,\"åˆ˜ç”Ÿ\",18,2));//ä¸Šæµ· ç°åœ¨æˆ‘ä»¬ä¾¿å¯ä»¥è¿›è¡Œè¿è¡¨æŸ¥è¯¢äº†å‡è®¾æˆ‘ä»¬æŸ¥è¯¢åœ°å€æ˜¯ä¸Šæµ·çš„ç”¨æˆ·123QueryBuilder qb=userDao.queryBuilder();qb.join(Address.class,AddressDao.Properties.Id).where(AddressDao.Properties.Name.eq(\"ä¸Šæµ·\"));qb.list(); 6.orderAscï¼šå‡åº7.orderDesc é™åº8.limitï¼šè¿”å›æ•°æ®çš„æ¡ç›®ä¸ªæ•°9.offsetï¼šåç§»é‡ï¼Œé…åˆlimitä½¿ç”¨ 1234int page=0;UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();QueryBuilder qb=userDao.queryBuilder();List&lt;User&gt; list = qb.offset(page*0).limit(10).list(); QueryQueryç±»æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæ‰§è¡Œå¤šæ¬¡çš„æŸ¥è¯¢è¯­å¥è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼ŒæŸ¥è¯¢å§“åæ˜¯é»æ˜å¹¶ä¸”å¹´é¾„&gt;=10123UserDao userDao = GreenDaoManager.getInstance().getmDaoSession().getUserDao();Query query=userDao.queryBuilder().where(UserDao.Properties.Name.eq(\"é»æ˜\").build();List&lt;User&gt; list= qb.list(); ç„¶åæˆ‘ä»¬æ”¹æˆæŸ¥è¯¢å§“åæ˜¯å°ç‹çš„12query.setParameter(0, \"å°ç‹\");List&lt;User&gt; list= qb.list(); ä½¿ç”¨setParameterä¾¿å¯æ‰§è¡Œå¤šæ¬¡æŸ¥è¯¢è¯­å¥ã€‚ æœ€åæœ¬æœŸä¸»è¦ä»‹ç»çš„æ•°æ®çš„åŸºæœ¬æ“ä½œï¼Œä¸‹æœŸæˆ‘ä»¬ä»‹ç»æ•°æ®é›†çš„å‡çº§é—®é¢˜ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"//dongqing123.cn/tags/æ•°æ®åº“/"},{"name":"greenDAO","slug":"greenDAO","permalink":"//dongqing123.cn/tags/greenDAO/"}]},{"title":"æ•°æ®åº“greenDAOçš„ä½¿ç”¨ï¼ˆä¸€ï¼‰","date":"2017-03-08T09:34:42.000Z","path":"2017/03/08/æ•°æ®åº“greenDAOçš„ä½¿ç”¨-ä¸€/","text":"ä¹‹å‰æˆ‘ä»¬ä»‹ç»äº†æ•°æ®åº“realmçš„ä½¿ç”¨ï¼Œä»Šå¤©æˆ‘ä»¬ä»‹ç»ä¸€æ¬¾ORMæ¡†æ¶greenDAOçš„ä½¿ç”¨ã€‚é¦–å…ˆåˆ°æŸ¥çœ‹githubåœ°å€https://github.com/greenrobot/greenDAO ï¼Œæ ¹æ®æ–‡æ¡£åšç›¸åº”çš„é…ç½®ã€‚Gradle æ’ä»¶é…ç½®12345greendao &#123; schemaVersion 1 daoPackage 'com.greendao.gen' targetGenDir 'src/main/java'&#125; schemaVersionï¼š æ•°æ®åº“schemaç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ•°æ®åº“ç‰ˆæœ¬å· daoPackageï¼šè®¾ç½®DaoMaster ã€DaoSessionã€DaoåŒ…å targetGenDirï¼šè®¾ç½®DaoMaster ã€DaoSessionã€Daoç›®å½• targetGenDirTestï¼šè®¾ç½®ç”Ÿæˆå•å…ƒæµ‹è¯•ç›®å½• generateTestsï¼šè®¾ç½®è‡ªåŠ¨ç”Ÿæˆå•å…ƒæµ‹è¯•ç”¨ä¾‹ å®ä½“@Entityæ³¨è§£123456789101112@Entity( schema = \"myschema\", active = true, nameInDb = \"AWESOME_USERS\", indexes = &#123; @Index(value = \"name DESC\", unique = true) &#125;, createInDb = false)public class User &#123; ...&#125; schemaï¼šå‘ŠçŸ¥GreenDaoå½“å‰å®ä½“å±äºå“ªä¸ªschema activeï¼šæ ‡è®°ä¸€ä¸ªå®ä½“å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œæ´»åŠ¨å®ä½“æœ‰æ›´æ–°ã€åˆ é™¤å’Œåˆ·æ–°æ–¹æ³• ameInDbï¼šåœ¨æ•°æ®ä¸­ä½¿ç”¨çš„åˆ«åï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯å®ä½“çš„ç±»å indexesï¼šå®šä¹‰ç´¢å¼•ï¼Œå¯ä»¥è·¨è¶Šå¤šä¸ªåˆ— createInDbï¼šæ˜¯å¦åˆ›å»ºè¡¨,å¦‚æœæ˜¯æœ‰å¤šä¸ªå®ä½“éƒ½å…³è”è¿™ä¸ªè¡¨ï¼Œå¯ä»¥æŠŠå¤šä½™çš„å®ä½“é‡Œé¢è®¾ç½®ä¸ºfalseé¿å…é‡å¤åˆ›å»ºï¼ˆé»˜è®¤æ˜¯trueï¼‰ åŸºç¡€å±æ€§æ³¨è§£12345678910111213141516171819202122232425262728293031323334@Entitypublic class User &#123; @Id(autoincrement = true) private Long id; private String name; @Transient private String sex; @Generated(hash = 873297011) public User(Long id, String name) &#123; this.id = id; this.name = name; &#125; @Generated(hash = 586692638) public User() &#123; &#125; public Long getId() &#123; return this.id; &#125; public void setId(Long id) &#123; this.id = id; &#125; public String getName() &#123; return this.name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getSex() &#123; return this.sex; &#125; public void setSex(String sex) &#123; this.sex = sex; &#125;&#125; @Entityï¼šç”¨äºæ ‡è¯†è¿™æ˜¯ä¸€ä¸ªéœ€è¦Greendaoå¸®æˆ‘ä»¬ç”Ÿæˆä»£ç çš„bean @Idï¼šæ ‡æ˜ä¸»é”®ï¼Œå¯ä»¥é€šè¿‡@Id(autoincrement = true)è®¾ç½®è‡ªå¢é•¿ @Propertyï¼šç”¨äºè®¾ç½®å±æ€§åœ¨æ•°æ®åº“ä¸­çš„åˆ—åï¼ˆé»˜è®¤ä¸å†™å°±æ˜¯ä¿æŒä¸€è‡´ï¼‰ @NotNull ï¼šéç©º @Transientï¼šæ ‡è¯†è¿™ä¸ªå­—æ®µæ˜¯è‡ªå®šä¹‰çš„ä¸ä¼šåˆ›å»ºåˆ°æ•°æ®åº“è¡¨é‡Œ @Convertï¼šæŒ‡å®šè‡ªå®šä¹‰ç±»å‹(@linkPropertyConverter) @Generatedï¼šgreenDAOè¿è¡Œæ‰€äº§ç”Ÿçš„æ„é€ å‡½æ•°æˆ–è€…æ–¹æ³•ï¼Œè¢«æ­¤æ ‡æ³¨çš„ä»£ç å¯ä»¥å˜æ›´æˆ–è€…ä¸‹æ¬¡è¿è¡Œæ—¶æ¸…é™¤ @Keepï¼šæ³¨è§£çš„ä»£ç æ®µåœ¨GreenDaoä¸‹æ¬¡è¿è¡Œæ—¶ä¿æŒä¸å˜ OrderByï¼šæŒ‡å®šæ’åº ç´¢å¼•æ³¨è§£ @Indexï¼šä½¿ç”¨@Indexä½œä¸ºä¸€ä¸ªå±æ€§æ¥åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œé€šè¿‡nameè®¾ç½®ç´¢å¼•åˆ«åï¼Œä¹Ÿå¯ä»¥é€šè¿‡uniqueç»™ç´¢å¼•æ·»åŠ çº¦æŸ @Uniqueï¼šå‘æ•°æ®åº“åˆ—æ·»åŠ äº†ä¸€ä¸ªå”¯ä¸€çš„çº¦æŸ å…³ç³»æ³¨è§£12345678910111213@Entitypublic class User &#123; @Id private Long id; @ToMany(referencedJoinProperty = \"ownerId\") private List&lt;Site&gt; ownedSites;&#125; @Entitypublic class Site &#123; @Id private Long id; private long ownerId;&#125; 12345678910111213141516@Entitypublic class User &#123; @Id private Long id; @Unique private String authorTag; @ToMany(joinProperties = &#123; @JoinProperty(name = \"authorTag\", referencedName = \"ownerTag\") &#125;) private List&lt;Site&gt; ownedSites;&#125; @Entitypublic class Site &#123; @Id private Long id; @NotNull private String ownerTag;&#125; 123456789101112131415161718192021222324@Entitypublic class Site &#123; @Id private Long id; @ToMany @JoinEntity( entity = JoinSiteToUser.class, sourceProperty = \"siteId\", targetProperty = \"userId\" ) private List&lt;User&gt; authors;&#125; @Entitypublic class JoinSiteToUser &#123; @Id private Long id; private Long siteId; private Long userId;&#125; @Entitypublic class User &#123; @Id private Long id;&#125; @ToOneï¼šä¸€å¯¹ä¸€ @ToMany ï¼šä¸€å¯¹å¤š JoinEntityï¼šå®šä¹‰è¡¨è¿æ¥å…³ç³»ï¼Œå¦‚æœä½ åœ¨åšå¤šå¯¹å¤šçš„å…³ç³»ï¼Œå¯ä»¥ç»™ç›®æ ‡å±æ€§æ·»åŠ è¿™ä¸ªé¢å¤–çš„æ³¨è§£ @JoinPropertyï¼šå®šä¹‰åç§°å’Œå¼•ç”¨åç§°å±æ€§å…³ç³» æœ¬æœŸä¸»è¦ä»‹ç»greenDAOçš„æ³¨è§£ç›¸å…³çš„ä»‹ç»ï¼Œä¸‹æœŸä»‹ç»æ•°æ®çš„æ“ä½œã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"//dongqing123.cn/tags/æ•°æ®åº“/"},{"name":"greenDAO","slug":"greenDAO","permalink":"//dongqing123.cn/tags/greenDAO/"}]},{"title":"Activityã€Fragmentç”Ÿå‘½å‘¨æœŸ","date":"2017-02-27T02:14:31.000Z","path":"2017/02/27/Activityã€Fragmentç”Ÿå‘½å‘¨æœŸ/","text":"Activityç”Ÿå‘½å‘¨æœŸ Fragmentç”Ÿå‘½å‘¨æœŸ Activityä¸Fragmentå¯¹æ¯” æ¨ªç«–å±ç”Ÿå‘½å‘¨æœŸæ¨ªç«–å±åˆ‡æ¢","tags":[{"name":"activity","slug":"activity","permalink":"//dongqing123.cn/tags/activity/"},{"name":"fragment","slug":"fragment","permalink":"//dongqing123.cn/tags/fragment/"},{"name":"ç”Ÿå‘½å‘¨æœŸ","slug":"ç”Ÿå‘½å‘¨æœŸ","permalink":"//dongqing123.cn/tags/ç”Ÿå‘½å‘¨æœŸ/"}]},{"title":"drakeet MultiTypeçš„ä½¿ç”¨","date":"2017-02-13T07:57:10.000Z","path":"2017/02/13/drakeet-MultiTypeçš„ä½¿ç”¨/","text":"æˆ‘ä»¬åœ¨æ—¥å¸¸ä½¿ç”¨recyclerviewæ—¶ï¼Œæ€»ä¼šé‡åˆ°å„ç§æ¯”è¾ƒå¤æ‚çš„å¸ƒå±€ï¼Œè¿™æ—¶å€™ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„itemå·²ç»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼Œå¦‚ä½•å®ç°è¿™äº›å‘¢ï¼Œç›®å‰ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼1ã€åµŒå¥—2ã€addView3ã€ä½¿ç”¨typeè¿™äº›æ–¹æ³•è™½ç„¶éƒ½å¯ä»¥å®ç°æˆ‘ä»¬æƒ³è¦çš„å¸ƒå±€ï¼Œä½†ç¼ºç‚¹éƒ½æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„ï¼Œè€¦åˆåº¦ç‰¹åˆ«å¤§ï¼Œæ¯å½“æˆ‘ä»¬éœ€è¦ä¿®æ”¹æ—¶ï¼Œä¸å¾—ä¸ä¿®æ”¹Adapterçš„å†…å®¹ï¼Œå› æ­¤ä»Šå¤©æˆ‘ä»¬è¦è°ˆä¸€æ¬¾èƒ½ä¼˜é›…ã€è§£è€¦çš„å¼€æºåº“æ¥å®ç°å¤æ‚çš„å¸ƒå±€ã€‚drakeetçš„MultiTypeå°±æ˜¯ä¸ºè¿™è€Œç”Ÿçš„ï¼Œå…¶ç®€å•ï¼Œé«˜æ•ˆï¼Œè§£è€¦çš„å®ç°è¿™äº›å¤æ‚çš„å¸ƒå±€ï¼Œåœ°å€ä¼ é€é—¨ MultiTypeã€‚MultiTypeçš„ä½œè€…ä¹Ÿè¯¦ç»†çš„ä»‹ç»äº†è¯¥åº“çš„å¦‚ä½•ä½¿ç”¨Effective-MultiType ,ä»Šå¤©æˆ‘ä»¬å°±é’ˆå¯¹å…·ä½“çš„éœ€æ±‚ï¼Œå¦‚ä½•ä½¿ç”¨è¯¥åº“ã€‚å¾ˆæ—©ä¹‹å‰å°±è®¢é˜…äº†ä»£ç å®¶çš„gank.ioï¼Œä¸€ç›´å¾ˆæ„Ÿè°¢å¤§ç‰›çš„æ— ç§å¥‰çŒ®ï¼Œæ¯æ—¥ä¸ºæˆ‘ä»¬æ¨é€æŠ€æœ¯æ–‡ç« ã€‚å› æ­¤æœ€è¿‘ä½¿ç”¨ä»£ç å®¶çš„apiï¼Œå¼€å‘äº†ä¸€æ¬¾gankçš„å®¢æˆ·ç«¯ï¼ˆåº”ç”¨å®ï¼šå¹²è´§Gankï¼‰ï¼Œå…¶ä¸­æ¯æ—¥gankçš„æ•°æ®æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œæ¶‰åŠåˆ°Androidã€iOSã€å‰ç«¯ç­‰å¤šä¸ªé¢†åŸŸã€‚å¦‚è¿”å›çš„æ•°æ®123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108&#123; \"category\": [ \"ä¼‘æ¯è§†é¢‘\", \"çæ¨è\", \"iOS\", \"Android\", \"ç¦åˆ©\" ], \"error\": false, \"results\": &#123; \"Android\": [ &#123; \"_id\": \"589d2bcd421aa9270bc7332c\", \"createdAt\": \"2017-02-10T10:56:13.792Z\", \"desc\": \"Android ä¿¡ç”¨å¡æäº¤æ•ˆæœã€‚\", \"images\": [ \"http://img.gank.io/0df0d67f-6d39-4880-9a44-b2531ccb3a75\" ], \"publishedAt\": \"2017-02-10T11:38:22.122Z\", \"source\": \"chrome\", \"type\": \"Android\", \"url\": \"https://github.com/adonixis/android-sumbit-credit-card-flow\", \"used\": true, \"who\": \"ä»£ç å®¶\" &#125;, &#123; \"_id\": \"589d2bed421aa92710db9613\", \"createdAt\": \"2017-02-10T10:56:45.622Z\", \"desc\": \"ç®€æ´ä¼˜é›…çš„ç½‘ç»œçŠ¶æ€æç¤ºã€‚\", \"images\": [ \"http://img.gank.io/93211cbf-d4af-4bc4-ba76-621dfb1dfe40\" ], \"publishedAt\": \"2017-02-10T11:38:22.122Z\", \"source\": \"chrome\", \"type\": \"Android\", \"url\": \"https://github.com/iammert/StatusView\", \"used\": true, \"who\": \"ä»£ç å®¶\" &#125; ], \"iOS\": [ &#123; \"_id\": \"589d2af5421aa9270bc7332b\", \"createdAt\": \"2017-02-10T10:52:37.898Z\", \"desc\": \"Swift å‘é€é‚®ä»¶ ğŸ“§\", \"images\": [ \"http://img.gank.io/41577a74-2e4b-4f20-9cee-5f5d3a2a2ce4\" ], \"publishedAt\": \"2017-02-10T11:38:22.122Z\", \"source\": \"chrome\", \"type\": \"iOS\", \"url\": \"https://github.com/onevcat/Hedwig\", \"used\": true, \"who\": \"ä»£ç å®¶\" &#125;, &#123; \"_id\": \"589d2b9f421aa92710db9612\", \"createdAt\": \"2017-02-10T10:55:27.144Z\", \"desc\": \"å¼¹å‡ºä¸€ä¸ªé†’ç›®è€Œä¼˜é›…çš„é€šçŸ¥æ¡†ã€‚\", \"publishedAt\": \"2017-02-10T11:38:22.122Z\", \"source\": \"chrome\", \"type\": \"iOS\", \"url\": \"https://github.com/candostdagdeviren/CDAlertView\", \"used\": true, \"who\": \"ä»£ç å®¶\" &#125; ], \"ä¼‘æ¯è§†é¢‘\": [ &#123; \"_id\": \"58974706421aa970bed462c2\", \"createdAt\": \"2017-02-05T23:38:46.879Z\", \"desc\": \"ä¸è¦ç»™æˆ‘è®²ç†ï¼Œæˆ‘å°±æ˜¯é“ç†...ä¹Ÿæ˜¯è¯´å‡ºäº†ä¸‡åƒå¥³ç”Ÿçš„å¿ƒå£°...å“ˆå“ˆå“ˆ~çœŸç†éƒ½åœ¨å¥³äººå˜´é‡Œï¼Œæ— æ³•åé©³...[ç¬‘cry][ç¬‘cry]\", \"publishedAt\": \"2017-02-10T11:38:22.122Z\", \"source\": \"chrome\", \"type\": \"ä¼‘æ¯è§†é¢‘\", \"url\": \"http://weibo.com/tv/v/cf39d9a371f7329cb7736bd1b16293de?fid=1034:cf39d9a371f7329cb7736bd1b16293de\", \"used\": true, \"who\": \"lxxself\" &#125; ], \"çæ¨è\": [ &#123; \"_id\": \"589c0e76421aa92dbe257232\", \"createdAt\": \"2017-02-09T14:38:46.687Z\", \"desc\": \"é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ\", \"publishedAt\": \"2017-02-10T11:38:22.122Z\", \"source\": \"chrome\", \"type\": \"çæ¨è\", \"url\": \"http://deadlion.cn/2017/02/05/Alibaba-Java-Code-Style.html\", \"used\": true, \"who\": \"wuzheng\" &#125; ], \"ç¦åˆ©\": [ &#123; \"_id\": \"589d31a2421aa9270bc7332e\", \"createdAt\": \"2017-02-10T11:21:06.747Z\", \"desc\": \"2-10\", \"publishedAt\": \"2017-02-10T11:38:22.122Z\", \"source\": \"chrome\", \"type\": \"ç¦åˆ©\", \"url\": \"http://7xi8d6.com1.z0.glb.clouddn.com/2017-02-10-16465759_171779496648995_128281069584646144_n.jpg\", \"used\": true, \"who\": \"ä»£ç å®¶\" &#125; ] &#125;&#125; æˆ‘ä»¬æƒ³è¦æ¯æ—¥gankçš„é¡µé¢ç®€å•å¥½çœ‹ ï¼Œèƒ½åŒºåˆ†ç±»åˆ«ã€‚å¦‚ä¸‹å›¾ ä»å›¾ä¸­å¯ä»¥çœ‹æˆ‘æˆ‘ä»¬éœ€è¦ä¸‰ç§ç±»åˆ«ï¼Œåˆ†åˆ«æ˜¯æœ€ä¸Šé¢çš„ç¦åˆ©å›¾ç‰‡ï¼ŒæŠ€æœ¯æ–‡ç« çš„ç±»åˆ«å’Œæ–‡ç« ã€‚ å¦‚ä½•ä½¿ç”¨é€šè¿‡å­¦ä¹ MultiTypeï¼Œå¿…ç„¶éœ€è¦ä¸‰ä¸ªItemViewProviderï¼Œå¯¹åº”ä¸‰ç§å¸ƒå±€ã€‚1.é¡¶éƒ¨çš„å›¾ç‰‡2.åˆ†ç±»æ ‡é¢˜3.æ–‡ç«  é¡¶éƒ¨å›¾ç‰‡çš„ä»£ç 123456789101112131415161718192021222324252627public class FuliViewProvider extends ItemViewProvider&lt;FuliBean, FuliViewProvider.ViewHolder&gt; &#123; @NonNull @Override protected ViewHolder onCreateViewHolder(@NonNull LayoutInflater inflater, @NonNull ViewGroup parent) &#123; View root = inflater.inflate(R.layout.item_fuli, parent, false); return new ViewHolder(root); &#125; @Override protected void onBindViewHolder(@NonNull ViewHolder holder, @NonNull FuliBean fuliBean) &#123; Glide.with(holder.image.getContext()).load(fuliBean.getUrl()).crossFade().centerCrop().into(holder.image); SimpleDateFormat df = new SimpleDateFormat(\"yyyy/MM/dd\"); holder.time.setText(df.format(fuliBean.getPublishedAt())); &#125; static class ViewHolder extends RecyclerView.ViewHolder &#123; private ImageView image; private TextView time; ViewHolder(View itemView) &#123; super(itemView); image = (ImageView) itemView.findViewById(R.id.image); time = (TextView) itemView.findViewById(R.id.text); &#125; &#125;&#125;` 1234567891011121314151617181920212223&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"150dp\"&gt; &lt;ImageView android:id=\"@+id/image\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:adjustViewBounds=\"true\" /&gt; &lt;TextView android:id=\"@+id/text\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_gravity=\"bottom|right\" android:layout_marginBottom=\"15dp\" android:layout_marginRight=\"15dp\" android:textColor=\"#00ff00\" android:textSize=\"20sp\" /&gt;&lt;/FrameLayout&gt; åˆ†ç±»æ ‡é¢˜12345678910111213141516171819202122public class HeaderViewProvider extends ItemViewProvider&lt;HeaderBean, HeaderViewProvider.ViewHolder&gt; &#123; @NonNull @Override protected ViewHolder onCreateViewHolder(@NonNull LayoutInflater inflater, @NonNull ViewGroup parent) &#123; View root = inflater.inflate(R.layout.item_header, parent, false); return new ViewHolder(root); &#125; @Override protected void onBindViewHolder(@NonNull ViewHolder holder, @NonNull HeaderBean headerBean) &#123; holder.content.setText(headerBean.getTitle()); &#125; static class ViewHolder extends RecyclerView.ViewHolder &#123; private TextView content; ViewHolder(View itemView) &#123; super(itemView); content = (TextView) itemView.findViewById(R.id.text); &#125; &#125;&#125; 12345678910111213141516&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\"&gt; &lt;TextView android:id=\"@+id/text\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_margin=\"10dp\" android:textColor=\"#000\" android:textSize=\"18sp\" android:textStyle=\"bold\" /&gt;&lt;/LinearLayout&gt; æŠ€æœ¯æ–‡ç« 12345678910111213141516171819202122232425262728293031public class ImageViewProvider extends ItemViewProvider&lt;ImgDataBean,ImageViewProvider.ViewHolder&gt; &#123; @NonNull @Override protected ViewHolder onCreateViewHolder(@NonNull LayoutInflater inflater, @NonNull ViewGroup parent) &#123; View root = inflater.inflate(R.layout.item_image, parent, false); return new ViewHolder(root); &#125; @Override protected void onBindViewHolder(@NonNull ViewHolder holder, @NonNull ImgDataBean dataBean) &#123; holder.content.setText(dataBean.getDesc()); if(dataBean.getImages()!=null&amp;&amp;dataBean.getImages().size()&gt;0)&#123; holder.image.setVisibility(View.VISIBLE); Glide.with(holder.image.getContext()).load(dataBean.getImages().get(0)).crossFade().centerCrop().into(holder.image); &#125;else&#123; holder.image.setVisibility(View.GONE); &#125; &#125; static class ViewHolder extends RecyclerView.ViewHolder &#123; private TextView content; private ImageView image; ViewHolder(View itemView) &#123; super(itemView); content = (TextView) itemView.findViewById(R.id.text); image = (ImageView) itemView.findViewById(R.id.image); &#125; &#125;&#125; 123456789101112131415161718192021&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:layout_margin=\"10dp\" android:orientation=\"vertical\"&gt; &lt;TextView android:id=\"@+id/text\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" /&gt; &lt;ImageView android:id=\"@+id/image\" android:layout_width=\"100dp\" android:layout_height=\"100dp\" android:layout_gravity=\"center_horizontal\" android:layout_marginTop=\"10dp\" android:src=\"@mipmap/ic_launcher\" /&gt;&lt;/LinearLayout&gt; è¿™æ ·æˆ‘ä»¬åœ¨Activityæˆ–å…¶ä»–åœ°æ–¹ï¼Œæ³¨å†Œregisterè¿™äº›éƒ½å¯ä»¥äº†ã€‚å…·ä½“ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950 @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); ... GankData gank = new Gson().fromJson(Data.Gank, GankData.class); recyclerView = (RecyclerView) findViewById(R.id.recyclerView); LinearLayoutManager layoutManager = new LinearLayoutManager(this); layoutManager.setOrientation(LinearLayoutManager.VERTICAL); recyclerView.setLayoutManager(layoutManager); items = new Items(); adapter = new MultiTypeAdapter(); adapter.register(FuliBean.class, new FuliViewProvider()); adapter.register(HeaderBean.class, new HeaderViewProvider()); adapter.register(ImgDataBean.class, new ImageViewProvider()); recyclerView.setAdapter(adapter); Gson gson = new Gson(); if (gank.getResults() != null) &#123; if (gank.getResults().getç¦åˆ©() != null &amp;&amp; gank.getResults().getç¦åˆ©().size() &gt; 0) &#123; ImgDataBean img = gank.getResults().getç¦åˆ©().get(0); FuliBean bean = gson.fromJson(gson.toJson(img), FuliBean.class); items.add(bean); &#125; if (gank.getResults().getAndroid() != null &amp;&amp; gank.getResults().getAndroid().size() &gt; 0) &#123; items.add(new HeaderBean(\"Android\")); items.addAll(gank.getResults().getAndroid()); &#125; if (gank.getResults().getiOS() != null &amp;&amp; gank.getResults().getiOS().size() &gt; 0) &#123; items.add(new HeaderBean(\"iOS\")); items.addAll(gank.getResults().getiOS()); &#125; if (gank.getResults().getå‰ç«¯() != null &amp;&amp; gank.getResults().getå‰ç«¯().size() &gt; 0) &#123; items.add(new HeaderBean(\"å‰ç«¯\")); items.addAll(gank.getResults().getå‰ç«¯()); &#125; if (gank.getResults().getçæ¨è() != null &amp;&amp; gank.getResults().getçæ¨è().size() &gt; 0) &#123; items.add(new HeaderBean(\"çæ¨è\")); items.addAll(gank.getResults().getçæ¨è()); &#125; if (gank.getResults().getæ‹“å±•èµ„æº() != null &amp;&amp; gank.getResults().getæ‹“å±•èµ„æº().size() &gt; 0) &#123; items.add(new HeaderBean(\"æ‹“å±•èµ„æº\")); items.addAll(gank.getResults().getæ‹“å±•èµ„æº()); &#125; if (gank.getResults().getä¼‘æ¯è§†é¢‘() != null &amp;&amp; gank.getResults().getä¼‘æ¯è§†é¢‘().size() &gt; 0) &#123; items.add(new HeaderBean(\"ä¼‘æ¯è§†é¢‘\")); items.addAll(gank.getResults().getä¼‘æ¯è§†é¢‘()); &#125; &#125; adapter.setItems(items); adapter.notifyDataSetChanged();&#125; å¦‚æœéœ€è¦éœ€æ”¹ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹å¯¹åº”çš„ItemViewProviderï¼Œæˆ–æ·»åŠ ItemViewProviderï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘¢ã€‚å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥ç»“åˆcardviewå®ç°åœ†è§’çš„è¾¹è·ï¼Œè®©å¸ƒå±€æ›´åŠ çš„ä¼˜é›…ã€‚ å…·ä½“å¦‚ä½•å®ç°ï¼Œå¯çœ‹æˆ‘çš„githubåœ°å€MultiTypeDemoã€‚ æœ€åæœ¬æ–‡é€šè¿‡gankçš„æ¯æ—¥æ•°æ®æ¥å…·ä½“çš„ä½¿ç”¨MultiTypeï¼Œæœ¬æ–‡ä»…ä»…åªæ˜¯ç²—ç•¥çš„è®²è§£äº†ä½¿ç”¨çš„æ–¹å¼ï¼Œè®©è¯»è€…æ˜ç™½MultiTypeçš„ä¼˜ç‚¹ã€‚æ›´å¤šçš„ä½¿ç”¨è¯·å‚è€ƒdrakeetçš„è®²è§£ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"RecyclerView","slug":"RecyclerView","permalink":"//dongqing123.cn/tags/RecyclerView/"},{"name":"MultiType","slug":"MultiType","permalink":"//dongqing123.cn/tags/MultiType/"}]},{"title":"è‡ªå®šä¹‰Behaviorï¼ˆä¸€ï¼‰","date":"2017-02-09T03:21:56.000Z","path":"2017/02/09/è‡ªå®šä¹‰Behaviorï¼ˆä¸€ï¼‰/","text":"åœ¨android designåº“çš„ä½¿ç”¨ï¼ˆäºŒï¼‰ä¸€æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨äº†FloatingActionButton,å®ƒæ˜¯android designç»™æˆ‘ä»¬å¸¦æ¥çš„ä¸€ä¸ªæ‚¬æµ®buttonï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒåšè®¸å¤šè®¸å¤šçš„äº‹æƒ…ã€‚Behavioræ˜¯CoordinatorLayoutå¸¦æ¥çš„ä¸€ä¸ªä»¥éä¾µå…¥çš„ä¸ºViewæ·»åŠ åŠ¨æ€çš„ä¾èµ–å¸ƒå±€ï¼Œå’Œå¤„ç†çˆ¶å¸ƒå±€(CoordinatorLayout)æ»‘åŠ¨æ‰‹åŠ¿çš„ä¸€ç³»åˆ—å›è°ƒï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒå®ç°åŠ¨æ€éšè—äºæ˜¾ç¤ºFloatingActionButtonï¼Œå®ç°ç±»ä¼¼äºä¸€ä¸ªè¿”å›é¡¶éƒ¨çš„æç¤ºæ‚¬æµ®æŒ‰é’®ã€‚ å¦‚ä½•å®ç°é¦–å…ˆæˆ‘ä»¬æŸ¥çœ‹CoordinatorLayoutä¸­æŠ½è±¡ç±»Behaviorï¼Œä¸æ»šåŠ¨æœ‰å…³çš„æ–¹æ³•123456789101112131415161718192021222324252627282930313233@Overridepublic boolean onStartNestedScroll(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View directTargetChild, View target, int nestedScrollAxes) &#123; return super.onStartNestedScroll(coordinatorLayout, child, directTargetChild, target, nestedScrollAxes);&#125;@Overridepublic void onNestedScrollAccepted(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View directTargetChild, View target, int nestedScrollAxes) &#123; super.onNestedScrollAccepted(coordinatorLayout, child, directTargetChild, target, nestedScrollAxes);&#125;@Overridepublic void onNestedScroll(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View target, int dxConsumed, int dyConsumed, int dxUnconsumed, int dyUnconsumed) &#123; super.onNestedScroll(coordinatorLayout, child, target, dxConsumed, dyConsumed, dxUnconsumed, dyUnconsumed);&#125;@Overridepublic void onNestedPreScroll(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View target, int dx, int dy, int[] consumed) &#123; super.onNestedPreScroll(coordinatorLayout, child, target, dx, dy, consumed);&#125;@Overridepublic void onStopNestedScroll(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View target) &#123; super.onStopNestedScroll(coordinatorLayout, child, target);&#125;@Overridepublic boolean onNestedFling(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View target, float velocityX, float velocityY, boolean consumed) &#123; return super.onNestedFling(coordinatorLayout, child, target, velocityX, velocityY, consumed);&#125;@Overridepublic boolean onNestedPreFling(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View target, float velocityX, float velocityY) &#123; return super.onNestedPreFling(coordinatorLayout, child, target, velocityX, velocityY);&#125; å› æ­¤æˆ‘ä»¬æ–°å»ºç±»ç»§æ‰¿FloatingActionButton.Behaviorï¼ˆè¿™é‡Œæˆ‘ä»¬ç›´æ¥ç»§æ‰¿FloatingActionButtonï¼Œè¿™æ ·å°±å¯ä»¥åˆ©ç”¨å·²å®ç°çš„æ–¹æ³•ï¼‰,é‡å†™å¼€å§‹æ»šåŠ¨onStartNestedScrollä¸æ»šåŠ¨onNestedScrollæ–¹æ³•ã€‚1234567891011public class FaBtnBehavior extends FloatingActionButton.Behavior&#123; @Override public boolean onStartNestedScroll(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View directTargetChild, View target, int nestedScrollAxes) &#123; return super.onStartNestedScroll(coordinatorLayout, child, directTargetChild, target, nestedScrollAxes); &#125; @Override public void onNestedScroll(CoordinatorLayout coordinatorLayout, FloatingActionButton child, View target, int dxConsumed, int dyConsumed, int dxUnconsumed, int dyUnconsumed) &#123; super.onNestedScroll(coordinatorLayout, child, target, dxConsumed, dyConsumed, dxUnconsumed, dyUnconsumed); &#125;&#125; è¿™é‡Œæ¯”æ–¹æˆ‘ä»¬è¦å®ç°ä¸Šæ»‘éšè—ï¼Œä¸‹æ»‘æ˜¾ç¤ºFloatingActionButton1234567@Overridepublic boolean onStartNestedScroll(final CoordinatorLayout coordinatorLayout, final FloatingActionButton child, final View directTargetChild, final View target, final int nestedScrollAxes) &#123; // Ensure we react to vertical scrolling return nestedScrollAxes == ViewCompat.SCROLL_AXIS_VERTICAL || super.onStartNestedScroll(coordinatorLayout, child, directTargetChild, target, nestedScrollAxes);&#125; 12345678910111213@Overridepublic void onNestedScroll(final CoordinatorLayout coordinatorLayout, final FloatingActionButton child, final View target, final int dxConsumed, final int dyConsumed, final int dxUnconsumed, final int dyUnconsumed) &#123; super.onNestedScroll(coordinatorLayout, child, target, dxConsumed, dyConsumed, dxUnconsumed, dyUnconsumed); if (dyConsumed &gt; 0 &amp;&amp; child.getVisibility() == View.VISIBLE) &#123; // User scrolled down and the FAB is currently visible -&gt; hide the FAB child.hide(); &#125; else if (dyConsumed &lt; 0 &amp;&amp; child.getVisibility() != View.VISIBLE) &#123; // User scrolled up and the FAB is currently not visible -&gt; show the FAB child.show(); &#125;&#125; è¿™é‡Œæˆ‘ä»¬åªæ˜¯ç®€å•çš„æ˜¾ç¤ºä¸éšè—ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ¸å˜çš„éšè—ä¸æ˜¾ç¤ºï¼Œå®ç°æ›´å¥½çœ‹çš„äº¤äº’æ•ˆæœã€‚ä¸‹é¢æˆ‘ä»¬å°±å®ç°åŠ ä¸ŠåŠ¨ç”»çš„äº¤äº’æ•ˆæœonStartNestedScroll å†…å®¹ä¸ä¸Šé¢ä¸€æ ·onNestedScroll ä¸­æŠŠæˆ‘ä»¬æ·»åŠ åŠ¨ç”»1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859private static final Interpolator INTERPOLATOR = new FastOutSlowInInterpolator();private boolean mIsAnimatingOut = false;@Overridepublic void onNestedScroll(final CoordinatorLayout coordinatorLayout, final FloatingActionButton child, final View target, final int dxConsumed, final int dyConsumed, final int dxUnconsumed, final int dyUnconsumed) &#123; super.onNestedScroll(coordinatorLayout, child, target, dxConsumed, dyConsumed, dxUnconsumed, dyUnconsumed); if (dyConsumed &gt; 0 &amp;&amp; !this.mIsAnimatingOut &amp;&amp; child.getVisibility() == View.VISIBLE) &#123; // User scrolled down and the FAB is currently visible -&gt; hide the FAB animateOut(child); &#125; else if (dyConsumed &lt; 0 &amp;&amp; child.getVisibility() != View.VISIBLE) &#123; // User scrolled up and the FAB is currently not visible -&gt; show the FAB animateIn(child); &#125;&#125;// Same animation that FloatingActionButton.Behavior uses to hide the FAB when the AppBarLayout exitsprivate void animateOut(final FloatingActionButton button) &#123; if (Build.VERSION.SDK_INT &gt;= 14) &#123; ViewCompat.animate(button).translationY(button.getHeight() + getMarginBottom(button)).setInterpolator(INTERPOLATOR).withLayer() .setListener(new ViewPropertyAnimatorListener() &#123; public void onAnimationStart(View view) &#123; ScrollAwareFABBehavior.this.mIsAnimatingOut = true; &#125; public void onAnimationCancel(View view) &#123; ScrollAwareFABBehavior.this.mIsAnimatingOut = false; &#125; public void onAnimationEnd(View view) &#123; ScrollAwareFABBehavior.this.mIsAnimatingOut = false; view.setVisibility(View.GONE); &#125; &#125;).start(); &#125; else &#123; &#125;&#125;// Same animation that FloatingActionButton.Behavior uses to show the FAB when the AppBarLayout entersprivate void animateIn(FloatingActionButton button) &#123; button.setVisibility(View.VISIBLE); if (Build.VERSION.SDK_INT &gt;= 14) &#123; ViewCompat.animate(button).translationY(0) .setInterpolator(INTERPOLATOR).withLayer().setListener(null) .start(); &#125; else &#123; &#125;&#125;private int getMarginBottom(View v) &#123; int marginBottom = 0; final ViewGroup.LayoutParams layoutParams = v.getLayoutParams(); if (layoutParams instanceof ViewGroup.MarginLayoutParams) &#123; marginBottom = ((ViewGroup.MarginLayoutParams) layoutParams).bottomMargin; &#125; return marginBottom;&#125; ä»£ç éƒ½æ˜¯åŸºæœ¬çš„æ’å€¼åŠ¨ç”»ï¼Œå®ç°èµ·æ¥ä¸éš¾ï¼Œä¸è¦å¿˜è®°åœ¨layoutä¸­ç»™FloatingActionButtonæ·»åŠ app:layout_behaviorâ€œè‡ªå®šä¹‰Behaviorçš„è·¯å¾„â€ã€‚ æœ€åæœ¬æ–‡ä¸»è¦ä»‹ç»Behaviorçš„ä½¿ç”¨ï¼Œé€šè¿‡è‡ªå®ç°FloatingActionButtonçš„Behaviorå®ç°æ»šåŠ¨å¼ä»–çš„åŠ¨ç”»äº¤äº’ï¼Œä¸‹ä¸€ç¯‡è‡ªå®šä¹‰Behaviorï¼ˆäºŒï¼‰æˆ‘ä»¬ä¼šæ›´æ·±å…¥è®²è§£Behaviorï¼Œå®ç°ä»»æ„Viewçš„Behaviorï¼Œè¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„äº¤äº’æ•ˆæœã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"Behavior","slug":"Behavior","permalink":"//dongqing123.cn/tags/Behavior/"}]},{"title":"android 7.1  æ–°ç‰¹æ€§shortcuts","date":"2017-02-07T07:25:52.000Z","path":"2017/02/07/android-7-1-æ–°ç‰¹æ€§shortcuts/","text":"2016å¹´12æœˆï¼Œgoogleå†æ¬¡æ›´æ–°äº†androidçš„ç‰ˆæœ¬ï¼Œå‘å¸ƒäº†android7.1çš„æ­£å¼ç‰ˆï¼Œa7.0ç»™æˆ‘ä»¬å¸¦æ¥äº†åˆ†å±ç­‰åŠŸèƒ½ï¼Œé‚£ä¹ˆ7.1åˆç»™æˆ‘ä»¬å¸¦æ¥äº†å“ªäº›åŠŸèƒ½å‘¢app shortcuts åº”ç”¨çš„å¿«æ·æ“ä½œï¼Œç±»ä¼¼äºiOSçš„ 3D Touchï¼Œandroidé€šè¿‡é•¿æŒ‰æ¡Œé¢å¿«æ·æ–¹å¼å¼¹å‡ºä¸€äº›å¿«æ·æ“ä½œï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆé«˜å¤§ä¸Šå‘¢ï¼Ÿä½†æ˜¯è¿™ç§æ“ä½œéœ€è¦7.1ä¸æ‰‹æœºæ¡Œé¢çš„æ”¯æŒã€‚å¯æƒœçš„æ˜¯å›½å†…å„å¤§romè¿˜æ²¡æœ‰é€‚é…android7.1ï¼Œå¤§å¤šæ•°è¿˜æ˜¯åŸºäº6.0çš„ç‰ˆæœ¬ï¼Œæ›´æœ‰5.0ã€4.4è¿™ä¸ªè¢«æ”¾å¼ƒé€‚é…çš„æ‰‹æœºï¼Œmiuiä¸€ç›´è¢«å˜²ç¬‘ä¸‡å¹´4.4ï¼Œflyme åƒå¹´5.0ç­‰ç­‰ã€‚ä¸è¿‡ç›®å‰æœ‰å°ç±³ã€è”æƒ³ã€åä¸ºç­‰å‚å•†ç»™éƒ¨åˆ†æ‰‹æœºå‡çº§äº†å†…æ ¸ï¼Œé€‚é…äº†android7.0ï¼Œä¸è¿‡éƒ½æ˜¯æ–°æ¬¾æ——èˆ°ï¼Œè€æ——èˆ°çœŸæ˜¯å½»åº•æ”¾å¼ƒäº†å‘¢ç¬”è€…è™½è¯´ä¸æ˜¯æ‰‹æœºGeekï¼Œæ‰‹ä¸Šzuk z2å‡çº§äº†7.0ï¼Œnexus5é€šè¿‡è®ºå›å‡çº§åˆ°CM14.1 android 7.1.1çš„ç‰ˆæœ¬ï¼Œéƒ½æ— æ³•è¿›è¡Œshortcutsçš„æ“ä½œğŸ˜‚ï¼Œäºæ˜¯ç¬”è€…ä¸‹è½½äº†ä¸€æ¬¾ä½“éªŒæ¡Œé¢Nova Launcher å¯ä»¥å‘ç°ç™¾åº¦å¹¶æ²¡æœ‰é€‚é…7.1ğŸ˜‚ï¼ˆNova Launcherä¼šé»˜è®¤æ˜¾ç¤º4ä¸ªæ“ä½œï¼Œç¼–è¾‘ã€ç§»é™¤ã€åº”ç”¨ä¿¡æ¯ã€å¸è½½ï¼‰ï¼Œåˆ°æ—¶å°è±¡ç¬”è®°ç»™äº†4ä¸ªshortcutsï¼ˆæœ€åä¸ºNova Launcheré»˜è®¤æ˜¾ç¤ºï¼‰ï¼Œåé¢ä¸€ä¸ªä¸ºæˆ‘ä»¬çš„Demoã€‚é‚£ä¹ˆå¦‚ä½•é€‚é…shortcutså‘¢App Shortcutå¯ä»¥åˆ†ä¸ºä¸¤ç§ä¸åŒçš„ç±»å‹ï¼š Static Shortcutsï¼ˆé™æ€å¿«æ·æ–¹å¼ï¼‰ å’Œ Dynamic Shortcutsï¼ˆåŠ¨æ€å¿«æ·æ–¹å¼ï¼‰ã€‚ Static Shortcutsåœ¨æ‰“åŒ…åˆ°apkçš„èµ„æºæ–‡ä»¶ä¸­å®šä¹‰ï¼Œæ‰€ä»¥ï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡æ›´æ–°ç‰ˆæœ¬æ—¶æ‰èƒ½æ”¹å˜é™æ€å¿«æ·æ–¹å¼çš„è¯¦ç»†è¯´æ˜ã€‚åˆ›å»ºStatic Shortcutsåˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ åœ¨manifesté…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°android.intent.category.LAUNCHER çš„Activity æ·»åŠ æ ‡ç­¾ï¼Œå¼•ç”¨shortcutsèµ„æºæ–‡ä»¶ 12345678910&lt;activity android:name=\".MainActivity\"&gt; &lt;intent-filter&gt; &lt;action android:name=\"android.intent.action.MAIN\" /&gt; &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt; &lt;/intent-filter&gt; &lt;meta-data android:name=\"android.app.shortcuts\" android:resource=\"@xml/shortcuts\" /&gt;&lt;/activity&gt; resåˆ›å»ºèµ„æºæ–‡ä»¶res/xml/shortcuts.xml 12345678910111213141516171819202122232425262728293031&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;shortcuts xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt; &lt;shortcut android:enabled=\"true\" android:icon=\"@drawable/ic_search_black_24dp\" android:shortcutDisabledMessage=\"@string/static_shortcut_disabled_message\" android:shortcutId=\"static\" android:shortcutLongLabel=\"@string/static_shortcut_long_label_1\" android:shortcutShortLabel=\"@string/static_shortcut_short_label_1\"&gt; &lt;intent android:action=\"android.intent.action.VIEW\" android:targetClass=\"com.jsqix.dongqing.appshortcuts.StaticShortcutActivity\" android:targetPackage=\"com.jsqix.dongqing.appshortcuts\" /&gt; &lt;/shortcut&gt; &lt;shortcut android:enabled=\"true\" android:icon=\"@drawable/ic_android_black_24dp\" android:shortcutDisabledMessage=\"@string/static_shortcut_disabled_message\" android:shortcutId=\"static_2\" android:shortcutLongLabel=\"@string/static_shortcut_long_label_2\" android:shortcutShortLabel=\"@string/static_shortcut_short_label_2\"&gt; &lt;intent android:action=\"android.intent.action.MAIN\" android:targetClass=\"com.jsqix.dongqing.appshortcuts.MainActivity\" android:targetPackage=\"com.jsqix.dongqing.appshortcuts\" /&gt; &lt;intent android:action=\"android.intent.action.VIEW\" android:targetClass=\"com.jsqix.dongqing.appshortcuts.StaticShortcutActivity\" android:targetPackage=\"com.jsqix.dongqing.appshortcuts\" /&gt; &lt;/shortcut&gt;&lt;/shortcuts&gt; shortcutä¸‹æ ‡ç­¾çš„å«ä¹‰ï¼š enabledshortcutæ˜¯å¦å¯ç”¨ iconæ˜¾ç¤ºåœ¨å·¦è¾¹çš„å›¾æ ‡ï¼Œå¯ç”¨ä½¿ç”¨Vector drawable shortcutDisabledMessageshortcutä¸å¯ç”¨æ—¶ï¼Œä»ç„¶å‡ºç°åœ¨å¿«æ·ä¸­ï¼Œä½†æ˜¾ç¤ºä¸ºç°è‰²ï¼Œç‚¹å‡»æ—¶å¼¹å‡ºæ­¤å†…å®¹çš„toast shortcutLongLabelå¯åŠ¨å™¨æœ‰è¶³å¤Ÿå¤šçš„ç©ºé—´æ—¶ï¼Œä¼šæ˜¾ç¤ºè¿™ä¸ªæ ‡ç­¾æ‰€å®šä¹‰çš„å†…å®¹ shortcutShortLabelshortcutçš„ç®€è¦è¯´æ˜ï¼Œæ˜¯å¿…éœ€å­—æ®µã€‚å½“shortcutè¢«æ·»åŠ åˆ°æ¡Œé¢ä¸Šæ—¶ï¼Œæ˜¾ç¤ºçš„ä¹Ÿæ˜¯è¿™ä¸ªå­—æ®µ intentshortcutå…³è”çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªintentï¼Œå½“ç”¨æˆ·ç‚¹å‡»shortcutæ—¶è¢«æ‰“å¼€ shortcutIdshortcutçš„å”¯ä¸€æ ‡ç¤ºidï¼Œè‹¥å­˜åœ¨å…·æœ‰ç›¸åŒshortcutIdçš„shortcutï¼Œåˆ™åªæ˜¾ç¤ºä¸€ä¸ª è¿™æ ·é™æ€shortcutså°±å®šä¹‰æˆåŠŸäº†ï¼Œè¿è¡Œèµ·æ¥å°±ä¼šå‡ºç°ä¸Šé¢å›¾ç‰‡ä¸­çš„æ•ˆæœï¼Œå…¶ä¸­ç‚¹å‡»æœç´¢çš„shortcutï¼Œè¿›å…¥StaticShortcutActivityï¼Œè¿”å›æ—¶å›åˆ°æ¡Œé¢ï¼Œç‚¹å‡»androidçš„shortcutï¼Œè¿›å…¥StaticShortcutActivityï¼Œè¿”å›æ—¶å›åˆ°MainActivity Dynamic Shortcutsé€šè¿‡ShortcutManager APIåœ¨è¿è¡Œæ—¶å‘å¸ƒï¼Œåœ¨è¿è¡Œæ—¶ï¼Œåº”ç”¨å¯ä»¥å‘å¸ƒï¼Œå‡çº§å’Œç§»é™¤å¿«æ·æ–¹å¼ã€‚ å‘å¸ƒä½¿ç”¨setDynamicShortcuts()é‡æ–°å®šä¹‰æ•´ä¸ªåŠ¨æ€å¿«æ·æ–¹å¼åˆ—è¡¨ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨addDynamicShortcuts()å‘å·²å­˜åœ¨çš„åŠ¨æ€å¿«æ·æ–¹å¼åˆ—è¡¨ä¸­æ·»åŠ å¿«æ·æ–¹å¼ã€‚ æ›´æ–°ä½¿ç”¨updateShortcuts()æ–¹æ³•ã€‚ ç§»é™¤ä½¿ç”¨removeDynamicShortcuts()æ–¹æ³•ç§»é™¤ç‰¹å®šåŠ¨æ€å¿«æ·æ–¹å¼æˆ–è€…ä½¿ç”¨removeAllDynamicShortcuts()ç§»é™¤æ‰€æœ‰åŠ¨æ€å¿«æ·æ–¹å¼ã€‚ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨apiå®ç°é™æ€shortcutsçš„ä¸¤ä¸ªæƒ…å†µåœ¨MainActivityä¸­åˆ›å»ºåŠ¨æ€shortcuts12345678910111213141516171819202122232425@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; ... createShortcuts();&#125;@TargetApi(25)private void createShortcuts() &#123; ShortcutManager shortcutManager = getSystemService(ShortcutManager.class); ShortcutInfo shortcutInfo = new ShortcutInfo.Builder(this, \"dynamic\") .setShortLabel(\"æ‹ç…§\") .setLongLabel(\"æ‹ç…§\") .setIcon(Icon.createWithResource(this, R.drawable.ic_camera_alt_black_24dp)) //.setIntent(new Intent(Intent.ACTION_VIEW, Uri.EMPTY,this,DynamicShortcutActivity.class)) .setIntents( // this dynamic shortcut set up a back stack using Intents, when pressing back, will go to MainActivity // the last Intent is what the shortcut really opened new Intent[]&#123; new Intent(Intent.ACTION_MAIN, Uri.EMPTY, this, MainActivity.class).setFlags(Intent. FLAG_ACTIVITY_CLEAR_TASK), new Intent(DynamicShortcutActivity.ACTION_OPEN_DYNAMIC) // intent's action must be set &#125;) .build(); shortcutManager.setDynamicShortcuts(Collections.singletonList(shortcutInfo));&#125; åˆ›å»ºç©ºçš„DynamicShortcutActivityï¼Œåœ¨manifestæ¸…å•ä¸­123456&lt;activity android:name=\".DynamicShortcutActivity\"&gt; &lt;intent-filter&gt; &lt;action android:name=\"com.jsqix.dongqing.appshortcuts.OPEN_DYNAMIC_SHORTCUT\" /&gt; &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt; &lt;/intent-filter&gt;&lt;/activity&gt; é€šè¿‡setIntentå®ç°æ‰“å¼€shortcutsè¿”å›æ¡Œé¢ï¼Œé€šè¿‡setIntentså®ç°æ‰“å¼€shortcutsè¿”å›åˆ°æˆ‘ä»¬æŒ‡å®šçš„MainActivityæ³¨æ„Shortcutsæœ‰ä¸ªæ•°é™åˆ¶ï¼Œå› æ­¤é‡‡ç”¨åŠ¨æ€åˆ›å»ºæ—¶éœ€è¦åˆ¤æ–­æœ€å¤§çš„é™åˆ¶getMaxShortcutCountPerActivityå¦åˆ™ä¼šæŠ›å¼‚å¸¸ å…¶ä»– å½“static shortcut å’Œ dynamic shortcutä¸€èµ·å±•ç¤ºæ—¶ï¼Œæˆ‘ä»¬å¦‚ä½•å†³å®šå…¶æ˜¾ç¤ºçš„é¡ºåºå‘¢ï¼Ÿåœ¨ ShortcutInfo.Builder ä¸­æœ‰ä¸€ä¸ªä¸“é—¨çš„æ–¹æ³• setRank(int) ,é€šè¿‡è®¾ç½®ä¸åŒçš„ç­‰çº§ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶åŠ¨æ€å¿«æ·æ–¹å¼çš„å‡ºç°é¡ºåºï¼Œç­‰çº§è¶Šé«˜ï¼Œå‡ºç°åœ¨å¿«æ·æ–¹å¼åˆ—è¡¨ä¸­çš„ä½ç½®å°±è¶Šé«˜ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥è®¾ç½®åŠ¨æ€å¿«æ·æ–¹å¼çš„shortLabelçš„å­—ä½“é¢œè‰²12345678ForegroundColorSpan colorSpan = new ForegroundColorSpan(getResources().getColor(android.R.color.holo_red_dark, getTheme()));String label = \"æ‹ç…§\";SpannableStringBuilder colouredLabel = new SpannableStringBuilder(label);colouredLabel.setSpan(colorSpan, 0, label.length(), Spanned.SPAN_INCLUSIVE_INCLUSIVE);ShortcutInfo shortcutInfo = new ShortcutInfo.Builder(this, \"dynamic\") .setShortLabel(colouredLabel) .setRank(1) .build(); åŸåˆ™ ä¸ºäº†ä¿æŒæˆ‘ä»¬çš„åº”ç”¨å’Œç³»ç»Ÿåº”ç”¨çš„å¿«æ·æ–¹å¼åœ¨è§†è§‰ä¸Šä¸€è‡´æ€§ï¼Œåº”è¯¥éµå®ˆApp Shortcuts Design Guidelines å°½ç®¡ç°åœ¨çš„APIæ”¯æŒé™æ€å’ŒåŠ¨æ€æ€»å…±5ä¸ªå¿«æ·æ–¹å¼ï¼Œä½†æ˜¯ä¸ºäº†æé«˜shortcutçš„è§†è§‰æ•ˆæœï¼Œå»ºè®®åªæ·»åŠ 4ä¸ªä¸åŒçš„å¿«æ·æ–¹å¼ å¦‚æœå¯èƒ½çš„è¯ï¼Œåº”è¯¥å°†ã€Œshort descriptionã€çš„æ–‡å­—é•¿åº¦æ§åˆ¶åœ¨10ä¸ªå­—æ¯ä»¥å†…ï¼Œå°†ã€Œlong discriptionã€çš„é•¿åº¦é™åˆ¶åœ¨25ä¸ªå­—æ¯ä»¥å†… åœ¨å¤‡ä»½å’Œæ¢å¤æ—¶ï¼ŒåŠ¨æ€shortcutsä¸åº”è¯¥è¢«ä¿å­˜ã€‚ æœ€åä»¥ä¸Šå°±æ˜¯android7.1ç»™æˆ‘ä»¬å¸¦æ¥çš„app shortcutsåŠŸèƒ½ï¼Œå®ç°èµ·æ¥ä¹Ÿä¸æ˜¯éå¸¸çš„éš¾ï¼Œç»™äººä¸€ç§é«˜å¤§ä¸Šçš„3D Touchæ•ˆæœï¼Œè¿˜æ˜¯å€¼å¾—è‚¯å®šçš„ã€‚å°±æ˜¯å›½å†…å‚å®¶ä¸çŸ¥ä½•æ—¶é€‚é…ï¼Œè¯´ä¸å®šä¸ç”¨æ›´æ–°å†…æ ¸å°±æ·»åŠ ä¸Šè¯¥åŠŸèƒ½å‘¢ï¼ˆflyme5åœ¨5.0ä¸Šå®ç°åˆ†å±çš„åŠŸèƒ½ğŸ˜Œï¼‰ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"shortcuts","slug":"shortcuts","permalink":"//dongqing123.cn/tags/shortcuts/"}]},{"title":"TabLayout+ViewPager","date":"2017-02-06T07:21:37.000Z","path":"2017/02/06/TabLayout-ViewPager/","text":"ViewPageï¼Œè¿™ä¸ªäººäººä¸é™Œç”Ÿçš„æ»‘åŠ¨å¯¼èˆªæ§ä»¶ï¼Œé…åˆFragmentä½¿ç”¨å®ç°åº•éƒ¨æˆ–é¡¶éƒ¨çš„å¯¼èˆªèœå•ï¼Œç½‘ä¸Šä¹Ÿæœ‰è®¸è®¸å¤šå¤šå…³äºViewPageçš„tabçš„å¼€æºä»£ç ï¼Œåœ¨5.0ä¹‹å‰ç”¨è¿‡ViewPagerIndicatorã€PagerSlidingTabStripç­‰å„ç§tabæŒ‡ç¤ºå™¨çš„å¼€æºåº“ï¼Œä½†æ˜¯android5.0ç»™æˆ‘ä»¬å¸¦æ¥äº†designåº“ï¼Œé‡Œé¢å°±æœ‰æˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’TabLayoutã€‚ å¦‚ä½•ä½¿ç”¨TabLayoutåœ¨ä½¿ç”¨ä¸Šæ˜¯éå¸¸ç®€å•çš„12345678910&lt;android.support.design.widget.TabLayout android:id=\"@+id/tabs\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" app:tabIndicatorColor=\"#ADBE107E\" app:tabMode=\"scrollable\" /&gt;&lt;android.support.v4.view.ViewPager android:id=\"@+id/viewpager\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"/&gt; å±æ€§è¯´æ˜ app:tabModetabModeæœ‰ä¸¤ä¸ªå€¼ï¼šfixedå’Œscrollableï¼Œè¡¨ç¤ºè¶…è¿‡ä¸€å±å¹•æ—¶æ˜¯å¦å¯ä»¥æ»šåŠ¨ã€‚fixedè¡¨ç¤ºå¡«å……ï¼Œscrollableè¡¨ç¤ºå¯ä»¥æ»šåŠ¨ã€‚ app:tabGravitytabGravityæœ‰ä¸¤ä¸ªå€¼ï¼šfillå’Œcenterï¼Œè¡¨ç¤ºtabåœ¨æœªæ»¡ä¸€å±æ—¶çš„å¯¹é½æ–¹å¼ã€‚fillè¡¨ç¤ºå¡«å……ï¼Œcenterè¡¨ç¤ºå±…ä¸­ã€‚ app:tabIndicatorColoré€‰ä¸­æ—¶tabä¸‹åˆ’çº¿çš„é¢œè‰² app:tabSelectedTextColoré€‰ä¸­æ—¶tabå­—ä½“é¢œè‰² app:tabTextColoræœªé€‰ä¸­tabå­—ä½“é¢œè‰² javaä»£ç éƒ¨åˆ†åˆ™æ˜¯æ·»åŠ adapterä¸tabç»‘å®š12345mTabLayout = (TabLayout) view.findViewById(R.id.tabs);mViewPager = (ViewPager) view.findViewById(R.id.viewpager);TabFragmentAdapter adapter = new TabFragmentAdapter(getSupportFragmentManager(), fragments, titles);mViewPager.setAdapter(adapter);mTabLayout.setupWithViewPager(mViewPager); ç®€å•çš„ä¸€å¥setupWithViewPagerå°±å¯ä»¥å®ŒæˆViewPageä¸TabLayoutçš„è”åŠ¨ï¼ŒTabLayoutä¹Ÿæä¾›äº†addOnTabSelectedListeneræ¥ç›‘å¬tabçš„é€‰ä¸­äº‹ä»¶12345678910111213141516mTabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() &#123; @Override public void onTabSelected(TabLayout.Tab tab) &#123; &#125; @Override public void onTabUnselected(TabLayout.Tab tab) &#123; &#125; @Override public void onTabReselected(TabLayout.Tab tab) &#123; &#125;&#125;); æ˜¯ä¸æ˜¯éå¸¸ç®€å•çš„å®ç°äº†ViewPageçš„tabé—®é¢˜å‘¢ æœ€åTabLayoutä¸ViewPageè”åˆå¾ˆå¥½çš„è§£å†³äº†æŒ‡ç¤ºå™¨çš„é—®é¢˜ï¼Œæ¯•ç«Ÿè¿™æ˜¯å®˜æ–¹çš„è§£å†³æ–¹æ¡ˆï¼Œä¸€äº›å¼€æºåº“å·²ç»å¾ˆä¹…æ²¡æœ‰ç»´æŠ¤äº†ï¼Œè€Œä¸”åœ¨ä½¿ç”¨ä¸Šæ˜¯éå¸¸ç®€å•çš„ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"design","slug":"design","permalink":"//dongqing123.cn/tags/design/"},{"name":"TabLayout","slug":"TabLayout","permalink":"//dongqing123.cn/tags/TabLayout/"}]},{"title":"github page +hexo å»ºç«‹ä¸ªäººblog","date":"2017-02-06T02:19:45.000Z","path":"2017/02/06/github-page-hexo-å»ºç«‹ä¸ªäººblog/","text":"ä½œä¸ºä¸€ä¸ªæŠ€æœ¯å¼€å‘äººå‘˜ï¼Œåšå®¢æ˜¯è®°å½•è‡ªå·±çŸ¥è¯†çš„å¹³å°ï¼Œæ— è®ºæ˜¯é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜è¿˜æ˜¯è‡ªå·±ä½¿ç”¨æ¡†æ¶ã€æ§ä»¶ç­‰çš„å¿ƒå¾—ã€‚ä¿—è¯è¯´å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œå¹³æ—¶å·¥ä½œæˆ–è€…ç”Ÿæ´»ä¸­çš„å¤§å¤§å°å°çš„äº‹è®°å½•ä¸‹æ¥ï¼ˆå½“ç„¶è¿™é‡Œä¸æ˜¯å†™çº¸è´¨æ—¥è®°ï¼‰ï¼Œæ€»æ¯”åˆ°æ—¶å€™åˆ°å¤„æ‰¾å¥½ã€‚æ—©æœŸç¨‹åºå‘˜éƒ½æ˜¯æ··å„ç§è®ºå›ï¼Œå†™åšå®¢å°±ä¼šç”¨ç¬¬ä¸‰æ–¹çš„å¦‚ï¼šCSDNã€åšå®¢å›­ç­‰ï¼Œå†åˆ°åçŸ¥ä¹ã€ç®€ä¹¦ã€å¾®ä¿¡ã€å¾®åšç­‰ï¼Œæœ€åå°±æ˜¯è‡ªå·±æ­å»ºåšå®¢äº†ã€‚æœ¬äººä½œä¸ºä¸€ä¸ªAndroidç¨‹åºå‘˜å¯¹å‰ç«¯ç½‘é¡µçš„çŸ¥è¯†ä¸æ˜¯éå¸¸äº†è§£ï¼Œä¸€å¼€å§‹è¦æˆ‘æ­å»ºåšå®¢æˆ‘æ˜¯æ‹’ç»çš„ï¼Œè™½ç„¶æˆ‘çŸ¥é“githubæä¾›äº†github pageè¿™ä¸ªä¸€ä¸ªå…è´¹çš„å¹³å°ã€‚åæ¥æ˜¯æŸ¥çœ‹äº†ç›¸å…³çš„æ–‡ç« æ‰äº†è§£åˆ°é…åˆhexoï¼Œæˆ‘ä»¬å†ä¹Ÿä¸ç”¨å…³å¿ƒç½‘é¡µçš„ä¸»é¢˜äº†ï¼Œåªè¦å…³æ³¨å†™åšå®¢å°±å¯ä»¥äº†ï¼ŒçœŸçš„æ˜¯ä¸€ä¸ªéå¸¸å¼€å¿ƒçš„äº‹å‘¢ã€‚ Github Pagesé¦–å…ˆä½ å¿…é¡»æ˜¯ä¸‡åƒåŒæ€§äº¤å‹ç½‘ç«™ä¸­çš„ä¸€å‘˜ï¼Œä¹Ÿå°±æ˜¯æœ‰githubçš„è´¦å·ï¼Œç„¶åæˆ‘ä»¬è·Ÿå¹³æ—¶ä¸€æ ·åœ¨githubä¸Šé¢åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œä½†æ˜¯åç§°å°±æœ‰è¦æ±‚äº†ï¼Œå¿…é¡»æ˜¯username.github.ioï¼ˆusernameå°±æ˜¯ä½ githubçš„è´¦æˆ·åï¼‰ï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬å°±æˆåŠŸäº†ä¸€æ­¥ã€‚ hexoç¬¬äºŒéƒ¨å°±æ˜¯é€šè¿‡hexoå»ºç«‹è‡ªå·±çš„åšå®¢ å®‰è£…hexoå®‰è£…æ•™ç¨‹ç½‘ä¸Šæœ‰å¾ˆå¤š,è¿™é‡Œç›´æ¥ç»™å‡ºhexoä¸­æ–‡ç½‘çš„æ–‡æ¡£åœ°å€ï¼šhexoå®‰è£…ä¼ é€é—¨ å»ºç½‘ç«™Hexoå®‰è£…å¥½äº†ä¹‹åï¼Œå°±å¼€å§‹è¿›è¡Œå»ºç«™ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ç»ˆç«¯ï¼ˆç¬”è€…æ˜¯Macï¼‰æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªç›®å½•ä½œä¸ºæˆ‘ä»¬æœ¬åœ°å­˜å‚¨åœ°å€ï¼Œç„¶åcd æŠŠç›®å½•æ‹–è¿›å»å›è½¦ç„¶å123hexo init yournamecd yournamenpm install å…¶ä¸­yournameä¸ºä½ çš„æ–‡ä»¶å¤¹åå­—å¯éšæ„å–ï¼ˆæœ¬æ–‡è¿™é‡Œæ˜¯DongQingï¼‰ã€‚å®Œæˆä¹‹åæˆ‘ä»¬éœ€è¦æˆ‘hexoä¸githubå…³è”èµ·æ¥ï¼Œæˆ‘ä»¬æ‰“å¼€DongQingä¸­çš„_config.ymlæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶å°¾123deploy:type: gitrepo: https://github.com/a741762308/a741762308.github.io.git repo æ¢æˆä½ è‡ªå·±çš„github page ä»“åº“åœ°å€ æˆ‘ä»¬åœ¨ç»ˆç«¯è¿è¡Œhexo så‘½ä»¤å¦‚æœæˆåŠŸæ‰“å°Start processing Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.åœ¨æµè§ˆåŒºä¸­æ•²å…¥http://localhost:4000/.ç­‰å¾…å¥‡è¿¹çš„å‘ç”Ÿã€‚ å‘å¸ƒåˆšåˆšé‚£ä¹ˆæ¿€åŠ¨ä»…ä»…åªæ˜¯æœ¬åœ°è·‘èµ·æ¥äº†ï¼Œæˆ‘ä»¬è¦å‘å¸ƒåˆ°github pageæ‰è¡Œç»§ç»­ç»ˆç«¯123hexo cleanhexo ghexo d å‘½ä»¤è¯¦è§£ï¼Œç¬¬ä¸€æ¡æ˜¯æ¸…æ¥šç¼“å­˜ï¼Œç¬¬äºŒæ¡å‘½ä»¤æ˜¯ç”Ÿæˆæœ¬åœ°å‘å¸ƒæ–‡ä»¶å¤¹ï¼Œç¬¬ä¸‰æ¡å‘½ä»¤æ‰æ˜¯æœ€åçš„å‘å¸ƒåˆ°github pagesä¸Šã€‚æ›´å¤šè¯·å‚è€ƒHexoå®˜æ–¹å‘½ä»¤å‚è€ƒæ–‡æ¡£ ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡username.github.ioæ¥è®¿é—®è‡ªå·±çš„åšå®¢äº†ï¼Œæ¯”å¦‚ç¬”è€…çš„æ˜¯a741762308.github.io,å¯ä»¥çœ‹åˆ°hexoçš„ç”»é¢äº†ï¼Œä½†æ˜¯è¿™äº›è¿˜ä¸å¤Ÿï¼Œä¸å¤Ÿæ¼‚äº®ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ hexoçš„ä¸»é¢˜æˆ‘ä»¬æ‰¾åˆ°è‡ªå·±åˆšåˆšçš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªthemesç›®å½•ï¼Œé‡Œé¢æœ‰ä¸ªé»˜è®¤çš„ä¸»é¢˜landscapeï¼Œæˆ‘ä»¬è§‰å¾—è¿™ä¸ªä¸»é¢˜ä¸è¡Œï¼Œå®åœ¨æ˜¯ä¸å¤Ÿç¾è§‚ã€‚hexoä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†è®¸è®¸å¤šå¤šçš„ä¸»é¢˜ï¼Œåˆ—å‡ºæˆ‘æ¯”è¾ƒå–œæ¬¢çš„ next yilia yelee hexo-theme-material å¤§å®¶ä¹Ÿå¯ä»¥åˆ°hexoä¸»é¢˜å»é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ï¼Œä¸€èˆ¬éƒ½å‘Šè¯‰ä½ äº†è¯¦ç»†çš„é…ç½®ä¿¡æ¯ã€‚ åŸŸåå…¶å®å®ç°ä¸Šæ¬¡æ­¥éª¤ï¼Œåšå®¢å°±åŸºæœ¬ä¸Šå®Œæˆäº†ï¼Œåªä¸è¿‡è®¿é—®åœ°å€æ˜¯username.github.ioï¼Œç»™äººæ„Ÿè§‰æ²¡æœ‰é€¼æ ¼ğŸ˜‚ğŸ˜‚ğŸ˜‚ã€‚å› æ­¤è¿½æ±‚æè‡´çš„æˆ‘ä»¬æ€ä¹ˆèƒ½ç»™äººè¿™ä¹ˆlowçš„åŸŸååœ°å€å‘¢ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦éœ€è¦è´­ä¹°ä¸€ä¸ªåŸŸåï¼Œæˆ‘æ˜¯åœ¨é˜¿é‡Œäº‘è´­ä¹°äº†ä¸€ä¸ªåŸŸåï¼Œå¯æƒœçš„æ˜¯æœ¬äººåå­—çš„å„ç§åŸŸåå·²ç»è¢«æ³¨å†Œäº†ğŸ˜‚ğŸ˜‚ğŸ˜‚ï¼Œæ³¨å†ŒæˆåŠŸåæˆ‘ä»¬åœ¨åŸŸåè§£æé‡Œé¢æ·»åŠ å¦‚ä¸‹å›¾çš„è§£æ å…¶ä¸­ä¸¤ä¸ªAæ ‡ç­¾æ˜¯githubçš„åœ°å€ï¼ŒCNAMEæŒ‡å‘æˆ‘ä»¬åšå®¢çš„åœ°å€ã€‚ç„¶åå°±æ˜¯åœ¨ä¹‹å‰å»ºç«‹çš„ç«™ç‚¹ç›®å½•ä¸‹çš„sourceç›®å½•ä¸­æ–°å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ ç„¶åç¼–è¾‘å®ƒæ·»åŠ æˆ‘ä»¬æ³¨å†Œçš„åŸŸå(ä¸ç”¨æ·»åŠ http://) æœ€åæˆ‘ä»¬æäº¤åˆ°githubï¼ˆåœ¨ç»ˆç«¯è¾“å…¥hexo d -gå‘½ä»¤ï¼‰ï¼Œç„¶åå¼€å§‹è§è¯å¥‡è¿¹çš„åˆ°æ¥å§ï¼Œå¦‚æˆ‘çš„åšå®¢ å¯è§†åŒ–åšå®¢ç¼–è¾‘ç°åœ¨æˆ‘ä»¬å†™åšå®¢éƒ½æ˜¯ç”¨markdownçš„æ ¼å¼ï¼Œæˆ‘ä»¬å¯ä»¥å†™å¥½åšå®¢åæŠŠ.mdæ ¼å¼çš„æ–‡ä»¶å¤åˆ¶åˆ°è¯¥ç›®å½•ä¸‹ï¼Œç„¶åæäº¤å‘½ä»¤ã€‚ ä½†æ˜¯æˆ‘ä»¬éƒ½å¸Œæœ›æœ‰ä¸ªå¯è§†åŒ–çš„ç¼–è¾‘å™¨ï¼Œè¿™æ ·ä¿®æ”¹ä¸å†™ä½œèµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œç¬”è€…ä½¿ç”¨çš„æ˜¯nihgwu/hexo-heyï¼Œæ ¹æ®è¯´æ˜é…ç½®å¥½ç›¸å…³ä¿¡æ¯åç»ˆç«¯è¾“å…¥hexo så‘½ä»¤ï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:4000/admin/è¾“å…¥ç”¨æˆ·åhexo,å¯†ç heyåå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ–‡ç« äº†ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ç›´æ¥æ–°å»ºç„¶åå¼€å¿ƒçš„å†™åšå®¢äº†ï¼ˆå†™å¥½æ–‡ç« å‘å¸ƒåï¼Œæœ¬åœ°èƒ½çœ‹åˆ°ï¼Œä½†æˆ‘ä»¬è¿˜è¦æäº¤åˆ°githubï¼Œè¿™æ ·è¾“å…¥åŸŸåå°±å¯ä»¥çœ‹åˆ°åˆšåˆšå‘å¸ƒçš„æ–‡ç« äº†ï¼‰ã€‚ æœ€åæ­å»ºè‡ªå·±çš„åšå®¢æ˜¯ä¸€ä»¶åˆšå¼€å§‹æ¯”è¾ƒæ–°é²œä¸æŠ˜è…¾çš„äº‹ï¼Œæ­å»ºå¥½åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ç”¨å¯è§†åŒ–æ’ä»¶åœ¨çº¿ç¼–è¾‘æˆ‘ä»¬çš„åšå®¢ï¼Œè®©å¼€å‘äººå‘˜ä¸ç”¨å†æ³¨æ„ç½‘ç«™æœ¬èº«ï¼Œåªéœ€è¦å°†å†™å¥½çš„mdæ–‡ä»¶å¤åˆ¶åˆ°å„å¤§å¹³å°ä¸è‡ªå·±çš„åšå®¢åœ°å€ã€‚è™½ç„¶è‡ªå·±çš„åšå®¢å¯èƒ½æ²¡äººçœ‹ï¼Œä½†æ˜¯å‘¢ï¼Œæˆ‘ä»¬çš„åˆè¡·å°±ä¸æ˜¯è¿™ä¸ªï¼Œè€Œæ˜¯è®©è‡ªå·±åšæŒå†™ä½œï¼ŒåšæŒåˆ†äº«è‡ªå·±çš„æŠ€æœ¯ï¼Œç»™è‡ªå·±ä½œæ€»ç»“ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"//dongqing123.cn/tags/éšç¬”/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"//dongqing123.cn/tags/åšå®¢/"}]},{"title":"android designåº“çš„ä½¿ç”¨ï¼ˆäºŒï¼‰","date":"2017-02-04T07:20:37.000Z","path":"2017/02/04/android-designåº“çš„ä½¿ç”¨ï¼ˆäºŒï¼‰/","text":"æˆ‘ä¸€ç¯‡æˆ‘ä»¬ä»‹ç»äº†DrawerLayoutçš„ä½¿ç”¨ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å®ç°ä¸€ä¸ªä¾§æ»‘çš„èœå•ï¼Œä¹Ÿè¯´æ˜äº†ä¸€äº›èœå•ä¸­çš„æ“ä½œåŠå¼€æºçš„ä¾§æ»‘èœå•åº“ï¼Œä»Šå¤©æˆ‘ä»¬è®²è§£ä¼¸ç¼©çš„ViewPageï¼Œç°å®ç”Ÿæ´»ä¸­æœ‰è®¸å¤šçš„appæ¯”å¦‚æ–°é—»èµ„è®¯ã€é˜…è¯»ã€å½±è§†ç­‰éƒ½é‡‡ç”¨ViewPageä½œä¸ºåˆ†é¡µçš„å¯¼èˆªï¼Œå¦‚å“”å“©å“”å“©åŠ¨ç”»Androidç«¯ çœ‹æ•ˆæœæ˜¯ä¸æ˜¯æœ‰ç‚¹æ„Ÿè§‰å¾ˆæƒŠè‰³ï¼Œå…¶å®å®ç°èµ·æ¥å¾ˆå®¹æ˜“çš„ã€‚é¦–å…ˆæˆ‘ä»¬è¦ä¿®æ”¹å¸ƒå±€app_bar_main.xml12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:id=\"@+id/main_content\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;android.support.design.widget.AppBarLayout android:id=\"@+id/appbar\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\" android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt; &lt;android.support.v7.widget.Toolbar android:id=\"@+id/toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"?attr/actionBarSize\" app:layout_scrollFlags=\"scroll|enterAlways\" app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" /&gt; &lt;android.support.design.widget.TabLayout android:id=\"@+id/tabs\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" app:tabIndicatorColor=\"#ADBE107E\" app:tabMode=\"scrollable\" /&gt; &lt;/android.support.design.widget.AppBarLayout&gt; &lt;android.support.v4.view.ViewPager android:id=\"@+id/viewpager\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt; &lt;android.support.design.widget.FloatingActionButton android:id=\"@+id/fab\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_gravity=\"bottom|end\" android:layout_margin=\"10dp\" android:src=\"@android:drawable/ic_dialog_email\" /&gt;&lt;/android.support.design.widget.CoordinatorLayout&gt; è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨TabLayout+ViewPageræ¥å®ç°æ»‘åŠ¨å¯¼èˆªï¼Œå…·ä½“ä½¿ç”¨å¯ç§»æ­¥TabLayout+ViewPagerç„¶åæ˜¯Activityä¸­æ·»åŠ viewpageçš„é€‚é…å™¨å’Œtabç»‘å®š12345mTabLayout = (TabLayout) view.findViewById(R.id.tabs);mViewPager = (ViewPager) view.findViewById(R.id.viewpager);TabFragmentAdapter adapter = new TabFragmentAdapter(getSupportFragmentManager(), fragments, titles);mViewPager.setAdapter(adapter);mTabLayout.setupWithViewPager(mViewPager); è¿™ä¸ªä¼¸ç¼©çš„ViewPageå°±å®Œæˆäº†ï¼Œæ˜¯ä¸æ˜¯ç›¸å½“çš„ç®€å•å‘¢ï¼Ÿå…¶å®å®ç°èµ·æ¥åªæœ‰2æ­¥ å°†Toolbarã€TabLayoutå†™åœ¨AppBarLayoutä¸­å¹¶ä¸”Toolbaræ·»åŠ app:layout_scrollFlags=&quot;scroll|enterAlways&quot; å°†ViewPagerå†™åœ¨CoordinatorLayoutä¸­å¹¶ä¸”æ·»åŠ app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; è¿™æ ·å°±å®ç°äº†æ»‘åŠ¨æ—¶éšè—ã€æ˜¾ç¤ºToolbarçš„åŠŸèƒ½ã€‚è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ä»‹ç»ä¸€ä¸‹app:layout_scrollFlagsä¸app:layout_behavior app:layout_scrollFlags ScrollFlagså…±æœ‰äº”ç§å¸¸é‡å€¼ä¾›AppBarLayoutçš„Children Viewä½¿ç”¨ï¼Œåˆ†åˆ«ä¸ºscrollã€enterAlwaysã€enterAlwaysCollapsedã€snapã€exitUntilCollapsedï¼Œä¸‹é¢æˆ‘ä»¬æè¿°ä¸€ä¸‹ scrollChild View ä¼´éšç€æ»šåŠ¨äº‹ä»¶è€Œæ»šå‡ºæˆ–æ»šè¿›å±å¹•ã€‚æ³¨æ„ï¼š å¦‚æœä½¿ç”¨äº†å…¶ä»–å€¼ï¼Œå¿…å®šè¦ä½¿ç”¨è¿™ä¸ªå€¼æ‰èƒ½èµ·ä½œç”¨ã€‚ å¦‚æœåœ¨è¿™ä¸ªchild Viewå‰é¢çš„ä»»ä½•å…¶ä»–Child Viewæ²¡æœ‰è®¾ç½®è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªChild Viewçš„è®¾ç½®å°†å¤±å»ä½œç”¨ã€‚ enterAlwayså¿«é€Ÿè¿”å›æ¨¡å¼ï¼Œå…¶å®å°±æ˜¯å‘ä¸‹æ»šåŠ¨æ—¶Scrolling Viewå’ŒChild Viewä¹‹é—´çš„æ»šåŠ¨ä¼˜å…ˆçº§é—®é¢˜ï¼Œä¼˜å…ˆæ»šåŠ¨Child Viewç„¶åæ»šåŠ¨Scrolling Viewã€‚ enterAlwaysCollapsedenterAlwaysçš„é™„åŠ å€¼ã€‚è¿™é‡Œæ¶‰åŠåˆ°Child Viewçš„é«˜åº¦å’Œæœ€å°é«˜åº¦ï¼Œå‘ä¸‹æ»šåŠ¨æ—¶ï¼ŒChild Viewå…ˆå‘ä¸‹æ»šåŠ¨æœ€å°é«˜åº¦å€¼ï¼Œç„¶åScrolling Viewå¼€å§‹æ»šåŠ¨ï¼Œåˆ°è¾¾è¾¹ç•Œæ—¶ï¼ŒChild Viewå†å‘ä¸‹æ»šåŠ¨ï¼Œç›´è‡³æ˜¾ç¤ºå®Œå…¨ã€‚ snapç®€å•ç†è§£ï¼Œå°±æ˜¯Child Viewæ»šåŠ¨æ¯”ä¾‹çš„ä¸€ä¸ªå¸é™„æ•ˆæœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒChild Viewä¸ä¼šå­˜åœ¨å±€éƒ¨æ˜¾ç¤ºçš„æƒ…å†µï¼Œæ»šåŠ¨Child Viewçš„éƒ¨åˆ†é«˜åº¦ï¼Œå½“æˆ‘ä»¬æ¾å¼€æ‰‹æŒ‡æ—¶ï¼ŒChild Viewè¦ä¹ˆå‘ä¸Šå…¨éƒ¨æ»šå‡ºå±å¹•ï¼Œè¦ä¹ˆå‘ä¸‹å…¨éƒ¨æ»šè¿›å±å¹•ï¼Œæœ‰ç‚¹ç±»ä¼¼ViewPagerçš„å·¦å³æ»‘åŠ¨ã€‚ exitUntilCollapsedå‘ç”Ÿå‘ä¸Šæ»šåŠ¨äº‹ä»¶æ—¶ï¼ŒChild Viewå‘ä¸Šæ»šåŠ¨é€€å‡ºç›´è‡³æœ€å°é«˜åº¦ï¼Œç„¶åScrolling Viewå¼€å§‹æ»šåŠ¨ã€‚ä¹Ÿå°±æ˜¯ï¼ŒChild Viewä¸ä¼šå®Œå…¨é€€å‡ºå±å¹•ã€‚ app:layout_behaviorBehavioræ˜¯ä¸€ç³»åˆ—å›è°ƒã€‚è®©ä½ æœ‰æœºä¼šä»¥éä¾µå…¥çš„ä¸ºViewæ·»åŠ åŠ¨æ€çš„ä¾èµ–å¸ƒå±€ï¼Œå’Œå¤„ç†çˆ¶å¸ƒå±€(CoordinatorLayout)æ»‘åŠ¨æ‰‹åŠ¿çš„æœºä¼šã€‚è¯¦ç»†è§è‡ªå®šä¹‰Behavior@string/appbar_scrolling_view_behavior(android.support.design.widget.AppBarLayout$ScrollingViewBehavior)ä½œç”¨æ˜¯è‡ªå·±æ”¾åˆ°AppBarLayoutçš„ä¸‹é¢ã€‚ ç°åœ¨å†çœ‹è¿™äº›æ•ˆæœæ˜¯ä¸æ˜¯so easyå‘¢ï¼Ÿä¸Šé¢ä»‹ç»çš„ä¸€äº›layout_scrollFlagsä¸layout_behavioræ²¡æœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œä»¥åä¼šå¡«ä¸Šè¿™äº›å‘çš„ã€‚","tags":[{"name":"design","slug":"design","permalink":"//dongqing123.cn/tags/design/"},{"name":"android","slug":"android","permalink":"//dongqing123.cn/tags/android/"}]},{"title":"26å²ï¼Œä½ è¯¥æ˜ç™½","date":"2017-02-04T01:43:42.000Z","path":"2017/02/04/26å²ï¼Œä½ è¯¥æ˜ç™½/","text":"æƒ³å­¦ä»€ä¹ˆå°±å­¦ä»€ä¹ˆï¼Œå¼€å§‹åšä¸€ä»¶äº‹ï¼Œæ°¸è¿œéƒ½ä¸ä¼šå¤ªæ™šã€‚ è­¦æƒ•åˆ°å¤„ç»™äººåŠ±å¿—çš„äººï¼Œå®é™…ä¸Šä»–ä»¬æ˜¯åœ¨ä¸ºè‡ªå·±åŠ±å¿—è€Œå·²ï¼Œå¾€å¾€è‡ªå·±åšä¸åˆ°æ‰éœ€è¦åŠ±å¿—ã€‚ çœ‹å¤šäº›ä¹¦ï¼Œå†™å¤šäº›å­—ï¼Œå°‘è¯´äº›è¯ã€‚ ç¬¬ä¸€çœ¼çœ‹ä¸Šå»å°±è®¨åŒçš„äººï¼Œä½ å¾ˆéš¾æ”¹å˜å¯¹ä»–ä»¬çš„å°è±¡ã€‚å°½å¯èƒ½å»è¿œçš„åœ°æ–¹çœ‹çœ‹ï¼Œä¸–ç•Œè¿˜æœ‰æ¯”ä½ æƒ³è±¡ä¸­æ›´å¥½çš„åœ°æ–¹ã€‚ å…¬å¸æ°¸è¿œéƒ½ä¸æ˜¯è‡ªå·±çš„å®¶ï¼Œå¦‚æœæœ‰ä¸ªè€æ¿è¯´å…¬å¸å°±æ˜¯å®¶ï¼Œè¯´ç”¨å®¶åº­å¼ç®¡ç†æ¥è¿™ä¸ªå…¬å¸ï¼Œå°½å¿«ç¦»å¼€è¿™ä¸ªå…¬å¸ã€‚ ä¸è¦å€Ÿé’±ç»™æœ‹å‹ï¼Œå¦åˆ™ä½ ä¼šå¤±å»è¿™ä¸ªæœ‹å‹ã€‚å¦‚æœä¸€å®šè¦å€Ÿï¼Œæ•‘æ€¥ä¸æ•‘ç©·ã€‚ å·¥ä½œåŒäº‹è¦æ±‚åŠ©ï¼Œé¦–å…ˆè¦åˆ¤æ–­è‡ªå·±æ˜¯ä¸æ˜¯ä¸€å®šè¦åšï¼Œå…¶æ¬¡è¦é—®ä»–æ‡‚ä¸æ‡‚ï¼Œå¦‚æœä»–ä¸æ‡‚ï¼Œä¸€å®šè¦æ•™ï¼Œæ•™ä¸‰æ¬¡åä»–è¿˜æ˜¯ä¸ä¼šï¼Œå°±æ°¸è¿œæ•™ä¸ä¼šäº†ï¼Œä½ ä¹Ÿä¸å¿…å†æ•™äº†ï¼Œä»–ä¸€èˆ¬ä¹Ÿä¸ä¼šåœ¨æ‰¾ä½ äº†ã€‚ èƒ–å­çš„è‡ªåˆ¶åŠ›éƒ½æ¯”è¾ƒå·®ã€‚ é‡å¤æ—§çš„åšæ³•ï¼Œåªä¼šå¾—åˆ°æ—§çš„ç»“æœã€‚ ä¸è¦å›å¤´ï¼Œå‘å‰èµ°ï¼Œå·¥ä½œå¦‚æ­¤ï¼Œçˆ±æƒ…å¦‚æ­¤ã€‚ å®‰æ…°å¤±è´¥æˆ–è€…åšé”™äº‹çš„äººï¼Œå¯ä»¥è¿™ä¹ˆè¯´ï¼šåŠ¨æœºå’Œæƒ…ç»ªæ€»ä¸ä¼šæœ‰é”™ï¼Œåªä¸è¿‡è¡Œä¸ºæ²¡æœ‰æ•ˆæœè€Œå·²ã€‚ å¥¥å¡å§†å‰ƒåˆ€å®šç†ï¼šå¦‚æ— éœ€è¦ï¼Œåˆ‡å‹¿å¢åŠ å®ä½“ã€‚ æ–­èˆç¦»ï¼šä»»ä½•ç‰©å“éƒ½ä¼šæœ‰ç”¨å¤„çš„ï¼Œåˆ¤æ–­è‡ªå·±éœ€ä¸éœ€è¦ï¼Œå¦‚æœä¸éœ€è¦ï¼Œæœæ–­åœ°æ‰”æ‰ã€‚ ç»å¸¸å»å»å±•è§ˆé¦†ï¼Œä¸èƒ½ä¿è¯ä½ èƒ½é©¬ä¸Šæé«˜è‰ºæœ¯å“ä½ï¼Œä¸è¿‡èƒ½è®©ä½ æœ‰ä¸ªå¥½å¿ƒæƒ…ã€‚ æ‰¾ä¸ªä»·å€¼è§‚ä¸€è‡´çš„ä¼´ä¾£ï¼Œä¼šçœæ‰å¾ˆå¤šäº‰åµå’Œç£¨åˆçš„æ—¶é—´ï¼Œç„¶åå»åšå„è‡ªå–œæ¬¢çš„äº‹æƒ…ã€‚ å’Œä¼´ä¾£åµæ¶ï¼Œèµ¢äº†æ²¡æœ‰ç”¨ï¼Œè¦çœ‹æ•ˆæœã€‚ ä¸è¦ç›¸ä¿¡è‡ªå·±å’Œåˆ«äººæœ‰ä»€ä¹ˆä¸åŒï¼ŒåŠ±å¿—çš„è¯è¯¸å¦‚you are Specialï¼Œyou are Uniqueéƒ½æ˜¯çœŸçš„ï¼Œä½†æ˜¯æ¥å—è‡ªå·±æ˜¯ä¸ªæ™®é€šäººäº‹å®æ›´é‡è¦ã€‚ å¤§å¤šæ•°æˆåŠŸçš„äººä¼šè¯´è‡ªå·±æ˜¯å¹¸è¿è€Œå·²ï¼ŒåŠªåŠ›ï¼Œåº”è¯¥æ˜¯ä¸€ç§å¸¸æœ‰çš„çŠ¶æ€ã€‚ è¯•é”™æ³•æ˜¯äººç”Ÿçš„å¥½æ–¹æ³•ï¼Œç”¨å¾—è¶Šå¤šï¼Œæ•ˆæœè¶Šå¥½ï¼Œå¹´é¾„ä¸€å¤§ï¼Œæˆæœ¬è¶Šå¤§ã€‚ ä¸å…¶çƒ¦æ¼ï¼Œä¸å¦‚æ€è€ƒã€‚äººçš„ä¸€åˆ‡ç—›è‹¦ï¼Œæœ¬è´¨æ˜¯éƒ½æ˜¯å¯¹è‡ªå·±æ— èƒ½çš„æ„¤æ€’ã€‚ ä»»ä½•äº‹æƒ…ï¼Œä½ çŸ¥é“äº†ä¸å»åšç­‰äºä¸çŸ¥é“ã€‚ å­¤ç‹¬æ˜¯äººç”Ÿçš„é‡è¦ä¼´ä¾£ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿé™ªä¼´ä½ åˆ°æœ€åï¼Œè¦å’Œè‡ªå·±å¥½å¥½ç›¸å¤„ã€‚ åœ¨ä½ é¢å‰è¯´ä½ åè¯çš„äººéƒ½æ˜¯å…³å¿ƒå¸Œæœ›ä½ å¥½ä½ çš„äººï¼Œåœ¨ä½ èƒŒåè¯´çš„åè¯çš„ï¼Œä¹Ÿä¸è¦ä»‹æ„ï¼Œä¸æ˜¯æ¯ä¸ªäººéƒ½å–œæ¬¢ä½ çš„ï¼Œæ¥å—è¿™ä¸ªäº‹å®ï¼Œå†åšå¥½è‡ªå·±å°±å¥½ã€‚ æ‰“é€ äººè„‰ä¸å¦‚æ‰“é€ è‡ªå·±ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªä¼˜ç§€ã€æœ‰ä»·å€¼çš„äººï¼Œé‚£ä¹ˆå°±ä¼šæœ‰å¾ˆå¤šå¦å¤–ä¼˜ç§€ã€æœ‰ä»·å€¼çš„äººä¸ºä½ æä¾›å¸®åŠ©ã€‚ è§£å†³ä»»ä½•é—®é¢˜çš„ç¬¬ä¸€æ­¥ï¼Œæ˜¯è¦æ‰¿è®¤é—®é¢˜çš„å­˜åœ¨ã€‚First step in solving any problem is recognizing there is one. ä¸è¦å»è¿½æ±‚è‡ªç”±ï¼Œè‡ªç”±æ˜¯å¤–ç•Œç»™çš„ï¼Œè¦è¿½ç‹¬ç«‹ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"//dongqing123.cn/tags/éšç¬”/"}]},{"title":"android designåº“çš„ä½¿ç”¨ï¼ˆä¸€ï¼‰","date":"2017-01-24T08:05:26.000Z","path":"2017/01/24/android-designåº“çš„ä½¿ç”¨ï¼ˆä¸€ï¼‰/","text":"android5.0å¸¦æ¥çš„Material Designæ˜¯éå¸¸æƒŠè‰³çš„ï¼Œä¸ºäº†èƒ½è®©è¿™ä¸ªçš„è®¾è®¡æ”¯æŒä½ç‰ˆæœ¬çš„ç‰ˆæœ¬ï¼Œgoogleæä¾›äº†designåº“ã€‚ä»Šå¤©æˆ‘ä»¬çš„ä¸»è§’æ˜¯androidçš„æŠ½å±‰èœå•DrawerLayoutåŠé…å¥—ä½¿ç”¨çš„ä¸€äº›æ§ä»¶ã€‚ æœ€ç®€å•çš„ä¾‹å­å°±æ˜¯ç”¨Android Studioè‡ªå¸¦çš„åŠŸèƒ½,æˆ‘ä»¬æ–°å»ºä¸€ä¸ªActivityåœ¨æ¨¡æœ¬ä¸­é€‰æ‹©Navigation drawer Activity ç„¶åfinishï¼Œè¿™æ ·æŠ½å±‰èœå•å°±ç”Ÿæˆäº†ï¼Œç„¶åä½ ä¼šçœ‹åˆ°ä¸€ä¸ªactivityä¸4ä¸ªlayoutã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æ•ˆæœ æ•ˆæœè¿˜ä¸é”™å§ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹å¸ƒå±€ activity_main.xml12345678910111213141516171819202122232425&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:id=\"@+id/drawer_layout\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:fitsSystemWindows=\"true\" tools:openDrawer=\"start\"&gt; &lt;include layout=\"@layout/app_bar_main\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" /&gt; &lt;android.support.design.widget.NavigationView android:id=\"@+id/nav_view\" android:layout_width=\"wrap_content\" android:layout_height=\"match_parent\" android:layout_gravity=\"start\" android:fitsSystemWindows=\"true\" app:headerLayout=\"@layout/nav_header_main\" app:menu=\"@menu/activity_main_drawer\" /&gt;&lt;/android.support.v4.widget.DrawerLayout&gt; DrawerLayoutæ˜¯æŠ½å±‰èœå•ï¼Œincludeæ˜¯ä¸»é¡µçš„å†…å®¹ï¼ŒNavigationViewæ˜¯èœå•çš„å†…å®¹æˆ‘ä»¬æ¥çœ‹çœ‹ä¸»é¡µçš„å†…å®¹app_bar_main.xml12345678910111213141516171819202122232425262728293031323334&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:fitsSystemWindows=\"true\" tools:context=\"com.jsqix.dongqing.demo.MainActivity\"&gt; &lt;android.support.design.widget.AppBarLayout android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:theme=\"@style/AppTheme.AppBarOverlay\"&gt; &lt;android.support.v7.widget.Toolbar android:id=\"@+id/toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"?attr/actionBarSize\" android:background=\"?attr/colorPrimary\" app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt; &lt;/android.support.design.widget.AppBarLayout&gt; &lt;include layout=\"@layout/content_main\" /&gt; &lt;android.support.design.widget.FloatingActionButton android:id=\"@+id/fab\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_gravity=\"bottom|end\" android:layout_margin=\"@dimen/fab_margin\" app:srcCompat=\"@android:drawable/ic_dialog_email\" /&gt;&lt;/android.support.design.widget.CoordinatorLayout&gt; ç„¶åæ˜¯cotent_main.xml12345678910111213141516&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:id=\"@+id/content_main\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:paddingBottom=\"@dimen/activity_vertical_margin\" android:paddingLeft=\"@dimen/activity_horizontal_margin\" android:paddingRight=\"@dimen/activity_horizontal_margin\" android:paddingTop=\"@dimen/activity_vertical_margin\" app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" tools:context=\"com.jsqix.dongqing.demo.MainActivity\" tools:showIn=\"@layout/app_bar_main\"&gt;&lt;/RelativeLayout&gt; æœ€åæ˜¯nav_header_main.xml1234567891011121314151617181920212223242526272829303132333435&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:layout_width=\"match_parent\" android:layout_height=\"@dimen/nav_header_height\" android:background=\"@drawable/side_nav_bar\" android:gravity=\"bottom\" android:orientation=\"vertical\" android:paddingBottom=\"@dimen/activity_vertical_margin\" android:paddingLeft=\"@dimen/activity_horizontal_margin\" android:paddingRight=\"@dimen/activity_horizontal_margin\" android:paddingTop=\"@dimen/activity_vertical_margin\" android:theme=\"@style/ThemeOverlay.AppCompat.Dark\"&gt; &lt;ImageView android:id=\"@+id/imageView\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:paddingTop=\"@dimen/nav_header_vertical_spacing\" app:srcCompat=\"@android:drawable/sym_def_app_icon\" /&gt; &lt;TextView android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:paddingTop=\"@dimen/nav_header_vertical_spacing\" android:text=\"Android Studio\" android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\" /&gt; &lt;TextView android:id=\"@+id/textView\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"android.studio@android.com\" /&gt;&lt;/LinearLayout&gt; åŠmenu123456789101112131415161718192021222324252627282930313233343536&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt; &lt;group android:checkableBehavior=\"single\"&gt; &lt;item android:id=\"@+id/nav_camera\" android:icon=\"@drawable/ic_menu_camera\" android:title=\"Import\" /&gt; &lt;item android:id=\"@+id/nav_gallery\" android:icon=\"@drawable/ic_menu_gallery\" android:title=\"Gallery\" /&gt; &lt;item android:id=\"@+id/nav_slideshow\" android:icon=\"@drawable/ic_menu_slideshow\" android:title=\"Slideshow\" /&gt; &lt;item android:id=\"@+id/nav_manage\" android:icon=\"@drawable/ic_menu_manage\" android:title=\"Tools\" /&gt; &lt;/group&gt; &lt;item android:title=\"Communicate\"&gt; &lt;menu&gt; &lt;item android:id=\"@+id/nav_share\" android:icon=\"@drawable/ic_menu_share\" android:title=\"Share\" /&gt; &lt;item android:id=\"@+id/nav_send\" android:icon=\"@drawable/ic_menu_send\" android:title=\"Send\" /&gt; &lt;/menu&gt; &lt;/item&gt;&lt;/menu&gt; ç°åœ¨æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å¸ƒå±€ï¼Œé¦–å…ˆæ˜¯drawerï¼Œé‡Œé¢åŒ…å«ä¸»é¡µä¸èœå•ï¼Œèœå•æ˜¯é€šè¿‡headä¸menuæ¥ç»„è£…ï¼Œç„¶åä¸»é¡µé‡Œé¢å°±æ˜¯CoordinatorLayoutåŒ…è£¹çš„å†…å®¹ï¼Œé‡Œé¢AppBarLayoutåŒ…è£¹ç€Toolbarï¼Œè¿˜æœ‰ä¸€ä¸ªcontentï¼Œæœ€åæ˜¯FloatingActionButtonï¼Œcontentå°±æ˜¯æˆ‘ä»¬éœ€è¦å†™çš„å¸ƒå±€ä»£ç ã€‚ ä»Šå¤©æˆ‘ä»¬å°±åˆ†æNavigationViewçš„ä½¿ç”¨é€šè¿‡ä¸Šé¢å¸ƒå±€æˆ‘ä»¬çŸ¥é“NavigationViewä¸»è¦æœ‰ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼Œheadä¸menuã€‚headæ˜¯NavigationViewçš„å¤´ï¼Œä¸€èˆ¬ç”¨æ¥æ˜¾ç¤ºå¤´åƒç­‰ï¼Œmenuå°±æ˜¯ä¸€äº›èœå•ã€‚android:layout_gravity=&quot;start&quot; ä»£è¡¨æ˜¯å·¦æ»‘èœå•ï¼Œç›¸åº”çš„endä¾¿æ˜¯å³æ»‘èœå•ï¼ˆå»ºè®®ç”¨startä»£æ›¿leftï¼Œendä»£æ›¿rightï¼Œè¿™æ ·å¯ä»¥å›½é™…åŒ–ï¼‰ã€‚æˆ‘ä»¬å†æ¥åˆ†æèœå•å¸ƒå±€æ–‡ä»¶å¿…é¡»ä½¿ç”¨menuæ ‡ç­¾ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚é™¤äº†menuæ ‡ç­¾å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸¤ä¸ªæ ‡ç­¾ç”¨äºè®¾ç½®èœå•é¡¹å’Œåˆ†ç»„ï¼Œè¿™ä¸¤ä¸ªæ ‡ç­¾æ˜¯itemå’Œgroupã€‚menuæ ‡ç­¾æ²¡æœ‰ä»»ä½•å±æ€§ï¼Œä½†å¯ä»¥åµŒå¥—åœ¨itemæ ‡ç­¾ä¸­ï¼Œè¡¨ç¤ºå­èœå•çš„å½¢å¼ã€‚ä¸è¿‡itemæ ‡ç­¾ä¸­ä¸èƒ½å†åµŒå…¥itemæ ‡ç­¾ã€‚ itemæ ‡ç­¾çš„å±æ€§ idï¼Œè¿™ä¸ªå¤§å®¶éƒ½çŸ¥é“ menuCategoryï¼ŒåŒç§èœå•é¡¹çš„ç§ç±» orderInCategorï¼ŒåŒç§ç±»èœå•çš„æ’åˆ—é¡ºåºï¼Œå€¼è¶Šå¤§è¶Šé å‰ titleï¼Œæ ‡é¢˜ titleCondensedï¼ŒçŸ­æ ‡é¢˜ï¼Œå½“titleå¤ªé•¿æ—¶ä¼šæ˜¾ç¤ºè¯¥å±æ€§å€¼ iconï¼Œå›¾æ ‡ alphabeticShortcutï¼Œå­—æ¯å¿«æ·é”® numericShortcutï¼Œæ•°å­—å¿«æ·é”® checkableï¼Œæ˜¯å¦å¸¦å¤é€‰æ¡† checkedï¼Œå¤é€‰æ¡†çš„é»˜è®¤é€‰ä¸­ visibleï¼Œå¯ä¸å¯è§ enableï¼Œå¯ä¸å¯æ“ä½œ groupæ ‡ç­¾çš„å±æ€§ menuCategoryï¼Œèœå•ç»„çš„ç§ç±» orderInCategoryï¼Œèœå•ç»„çš„æ’åº checkableBehaviorï¼Œè¯¥ç»„æ‰€æœ‰èœå•é¡¹ä¸Šæ˜¾ç¤ºçš„é€‰æ‹©ç»„ä»¶ï¼Œallä¸ºCheckBoxï¼Œsingleä¸ºRadioButtonï¼Œnoneä¸ºæ­£å¸¸çš„èœå•é¡¹ visibleï¼Œèœå•ç»„æ˜¯å¦å¯è§ enableï¼Œèœå•ç»„æ˜¯å¦å¯æ“ä½œ è¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥ç”Ÿäº§èœå•menuæ–‡ä»¶äº†ã€‚ èœå•çš„äº‹ä»¶æ“ä½œ headä¸­å¿…é¡»é€šè¿‡12NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);View headerView=navigationView.getHeaderView(0); é€šè¿‡headerViewçš„findViewByIdæ‰¾åˆ°ç›¸åº”çš„ç»„ä»¶æ¥è¿›è¡Œæ“ä½œã€‚ menuä¸­setNavigationItemSelectedListeneræ¥ç›‘å¬123456NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);navigationView.setNavigationItemSelectedListener(this);@Overridepublic boolean onNavigationItemSelected(MenuItem item) &#123;&#125; åˆ°è¿™é‡ŒåŸºæœ¬ä¸Šæ˜¯å®Œæˆäº†æ»‘åŠ¨èœå•ï¼Œä½†æ˜¯è¿™è¿˜æ˜¯ä¸å¤Ÿçš„ã€‚NavigationView é»˜è®¤æ˜¯éšä¸»é¢˜çš„ï¼Œèœå•é»˜è®¤æ˜¯ç°è‰²çš„ï¼Œgroupèœå•é€‰ä¸­ä¹‹åé»˜è®¤æ˜¯colorPrimaryçš„é¢œè‰²ï¼Œå¦‚æœä½ éœ€è¦ä¿®æ”¹,å¯ä»¥é€šè¿‡å¦‚ä¸‹å±æ€§ app:itemIconTintï¼Œè®¾ç½®å›¾ç‰‡çš„é¢œè‰² app:itemTextColorï¼Œè®¾ç½®å­—ä½“é¢œè‰² app:itemBackgroundï¼Œè®¾ç½®èƒŒæ™¯é¢œè‰² app:itemTextAppearanceï¼Œè®¾ç½®å­—ä½“çš„TextAppearance å¦‚æœä½ çš„èœå•è¿˜éœ€è¦å…¶ä»–ä»€ä¹ˆåŠŸèƒ½ï¼Œæ¯”å¦‚QQåœ¨å³ä¸‹è§’æ˜¾ç¤ºè®¾ç½®ï¼Œä¸»é¢˜ç­‰æ“ä½œï¼Œå¯ä»¥åœ¨NavigationViewä¸­å†™ä½ æƒ³è¦çš„å¸ƒå±€å¦‚123456789101112131415161718192021222324252627282930313233343536373839404142...&lt;android.support.design.widget.NavigationView android:id=\"@+id/nav_view\" android:layout_width=\"wrap_content\" android:layout_height=\"match_parent\" android:layout_gravity=\"start\" android:fitsSystemWindows=\"true\" app:headerLayout=\"@layout/nav_header_main\" app:menu=\"@menu/activity_main_drawer\"&gt; &lt;RelativeLayout android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:layout_gravity=\"bottom\" android:paddingBottom=\"15dp\" android:paddingLeft=\"10dp\" android:paddingRight=\"10dp\"&gt; &lt;TextView android:id=\"@+id/btn_set\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:drawableLeft=\"@mipmap/ic_menu_set\" android:drawablePadding=\"5dp\" android:gravity=\"center\" android:text=\"è®¾ç½®\" android:textColor=\"@color/black\" /&gt; &lt;TextView android:id=\"@+id/btn_theme\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_alignParentRight=\"true\" android:layout_marginRight=\"20dp\" android:drawableLeft=\"@mipmap/ic_menu_theme\" android:drawablePadding=\"5dp\" android:gravity=\"center\" android:text=\"ä¸»é¢˜\" android:textColor=\"@color/black\" /&gt; &lt;/RelativeLayout&gt;&lt;/android.support.design.widget.NavigationView&gt;Â·Â·Â· å¦‚æœè¿™äº›è¿˜ä¸èƒ½æ»¡è¶³ä½ ï¼Œå¯ä»¥è¯•è¯•MaterialDraweråŠŸèƒ½å¼ºå¤§ï¼Œå¯å®šåˆ¶é«˜ï¼Œè¿˜æ”¯æŒä¸»é¢˜åˆ‡æ¢ã€‚","tags":[{"name":"design","slug":"design","permalink":"//dongqing123.cn/tags/design/"},{"name":"android","slug":"android","permalink":"//dongqing123.cn/tags/android/"},{"name":"drawer","slug":"drawer","permalink":"//dongqing123.cn/tags/drawer/"},{"name":"navigationView","slug":"navigationView","permalink":"//dongqing123.cn/tags/navigationView/"}]},{"title":"RecyclerViewä¸CardViewçš„ä½¿ç”¨","date":"2017-01-23T07:09:18.000Z","path":"2017/01/23/RecyclerViewä¸CardViewçš„ä½¿ç”¨/","text":"2014å¹´googleå‘å¸ƒäº†android5.0çš„ç‰ˆæœ¬ï¼Œç³»ç»Ÿä½¿ç”¨ä¸€ç§æ–°çš„Material Designè®¾è®¡é£æ ¼ï¼Œä¹Ÿç»™æˆ‘ä»¬å¸¦æ¥äº†å¾ˆå¤šæ–°çš„ç‰¹æ€§ï¼ŒRecyclerViewä¸CardViewå°±æ˜¯èµ·æ–°çš„ä¸¤ä¸ªç»„ä»¶ã€‚ä»¥å‰æˆ‘ä»¬å†™åˆ—è¡¨å¸ƒå±€æ—¶éƒ½æ˜¯ç”¨ListViewã€GridViewç­‰æ§ä»¶ï¼Œæ¯”è¾ƒç¹ççš„å°±æ˜¯å†™Adapteräº†ï¼Œè€Œä¸”è¿˜è¦å¯¹å…¶ä¼˜åŒ–åŠ å…¥viewholderç±»ã€‚ç°åœ¨RecyclerViewå°±å¯ä»¥æ›¿ä»£ListViewã€GridViewï¼Œè€Œä¸”è‡ªå¸¦Holderï¼ŒåŠ ä¸Šé»˜è®¤çš„ä¸‰ç§å¸ƒå±€æ–¹å¼ï¼Œå¯ä»¥è¯´ç»™å¼€å‘è€…å¸¦æ¥å¾ˆå¤§çš„å¥½å¤„ã€‚ å¦‚ä½•ä½¿ç”¨RecyclerViewä½¿ç”¨ä¸Šä¸ä¸€èˆ¬çš„AdapterViewå¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæˆ‘ä»¬å…ˆåœ¨build.gradleä¸­æ·»åŠ RecyclerViewä¸CardViewçš„ä¾èµ–12345dependencies &#123; compile 'com.android.support:recylerview-v7:25.0.1' compile 'com.android.support:cardview-v7:25.0.1' ...&#125; layoutä¸­1234567...&lt;android.support.v7.widget.RecyclerView android:id=\"@+id/recyclerView\" android:layout_width=\"match_parent\" android:overScrollMode=\"never\" android:layout_height=\"match_parent\" /&gt;... 1234567891011121314151617181920212223242526272829303132333435363738&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:card=\"http://schemas.android.com/apk/res-auto\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:layout_marginBottom=\"5dp\" android:layout_marginLeft=\"10dp\" android:layout_marginRight=\"10dp\" android:layout_marginTop=\"5dp\" card:cardBackgroundColor=\"@android:color/white\" card:cardCornerRadius=\"5dp\" card:cardElevation=\"2dp\" card:cardMaxElevation=\"5dp\"&gt; &lt;!--cardMaxElevationï¼šæœ€å¤§å¡ç‰‡é˜´å½±çš„å®½åº¦--&gt; &lt;!--cardElevation:å¡ç‰‡é˜´å½±çš„å®½åº¦--&gt; &lt;!--cardBackgroundColor:å¡ç‰‡çš„èƒŒæ™¯é¢œè‰²--&gt; &lt;!--cardCornerRadius ï¼šå¡ç‰‡çš„åœ†è§’åŠå¾„--&gt; &lt;LinearLayout android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\"&gt; &lt;ImageView android:id=\"@+id/image\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:src=\"@mipmap/ic_launcher\" /&gt; &lt;TextView android:id=\"@+id/title\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_marginTop=\"10dp\" android:text=\"1\" /&gt; &lt;/LinearLayout&gt;&lt;/android.support.v7.widget.CardView&gt; adapter1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt; &#123; private Context context; private List&lt;String&gt; list; private OnItemClickListener onItemClickListener; public void setOnItemClickListener(OnItemClickListener onItemClickListener) &#123; this.onItemClickListener = onItemClickListener; &#125; public RecyclerAdapter(Context context, List&lt;String&gt; list) &#123; this.context = context; this.list = list; &#125; @Override public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123; View view = LayoutInflater.from(context).inflate(R.layout.item_recycle, parent, false); return new MyViewHolder(view); &#125; @Override public void onBindViewHolder(MyViewHolder holder, final int position) &#123; final String bean = list.get(position); holder.imageView.setImageResource(R.mipmap.ic_launcher); holder.title.setText(bean); holder.itemView.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; onItemClickListener.onItemClick(position); &#125; &#125;); &#125; @Override public int getItemCount() &#123; return list.size(); &#125; public class MyViewHolder extends RecyclerView.ViewHolder &#123; private ImageView imageView; private TextView title; public MyViewHolder(View view) &#123; super(view); imageView = (ImageView) view.findViewById(R.id.image); title = (TextView) view.findViewById(R.id.title); &#125; &#125; interface OnItemClickListener &#123; void onItemClick(int position); &#125;&#125; activityæˆ–fragmentä¸­1234LinearLayoutManager manager = new LinearLayoutManager(mContext, LinearLayoutManager.VERTICAL, false);recyclerView.setLayoutManager(manager);adapter = new RecyclerAdapter(mContext, R.layout.item_recycler, data);recyclerView.setAdapter(adapter); RecylerViewä½¿ç”¨å¿…é¡»æŒ‡æ˜LayoutManagerï¼ŒLayoutManagerä¸»è¦æœ‰ä¸‰ç±» LinearLayoutManager çº¿æ€§å¸ƒå±€ï¼Œæœ‰æ°´å¹³ã€å‚ç›´ GridLayoutManager ç½‘æ ¼å¸ƒå±€ StaggeredGridLayoutManager ç€‘å¸ƒæµå¸ƒå±€ é€šè¿‡ItemDecorationå¯ä»¥ç»˜åˆ¶itemä¹‹é—´çš„é—´éš” ItemAnimatorè®¾ç½®itemçš„å¢åˆ åŠ¨ç”» clickæˆ–longClickäº‹ä»¶ä¸æ”¯æŒï¼Œéœ€è¦è‡ªå·±å†™ item å¸ƒå±€ä¸­ä½¿ç”¨äº†å¡ç‰‡å¸ƒå±€CardView app:cardBackgroundColorè¿™æ˜¯è®¾ç½®èƒŒæ™¯é¢œè‰² app:cardCornerRadiusè¿™æ˜¯è®¾ç½®åœ†è§’å¤§å° app:cardElevationè¿™æ˜¯è®¾ç½®zè½´çš„é˜´å½± app:cardMaxElevationè¿™æ˜¯è®¾ç½®zè½´çš„æœ€å¤§é«˜åº¦å€¼ app:cardUseCompatPaddingæ˜¯å¦ä½¿ç”¨CompatPadding app:cardPreventCornerOverlapæ˜¯å¦ä½¿ç”¨PreventCornerOverlap app:contentPadding è®¾ç½®å†…å®¹çš„padding app:contentPaddingLeft è®¾ç½®å†…å®¹çš„å·¦padding app:contentPaddingTop è®¾ç½®å†…å®¹çš„ä¸Špadding app:contentPaddingRight è®¾ç½®å†…å®¹çš„å³padding app:contentPaddingBottom è®¾ç½®å†…å®¹çš„åº•padding æ•ˆæœå›¾ githubä¸Šç›¸å…³èµ„æº RecyclerViewItemAnimators DividerItemDecoration RecyclerItemDecorationæ€»ç»“recyclerviewä½œä¸ºlistviewã€gridviewçš„æ›¿ä»£æœ‰ç€è®¸å¤šçš„ä¼˜ç‚¹ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å®Œå…¨ä»£æ›¿ï¼Œç½‘ä¸Šä¹Ÿæœ‰è®¸å¤šç›¸å…³recyclerviewçš„æ•™ç¨‹ã€è‡ªå®šä¹‰çš„æ§ä»¶ã€ç‰¹æ•ˆç­‰ï¼Œcardviewå¡ç‰‡å¸ƒå±€æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å®ç”¨æ€§å’Œæ•ˆæœæ˜¯éå¸¸å¥½çš„ï¼Œç”¨æ¥å½“åšèƒŒæ™¯å†åˆé€‚ä¸è¿‡äº†ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"RecyclerView","slug":"RecyclerView","permalink":"//dongqing123.cn/tags/RecyclerView/"},{"name":"CardView","slug":"CardView","permalink":"//dongqing123.cn/tags/CardView/"}]},{"title":"android 6.0 æƒé™ç®¡ç†","date":"2017-01-17T06:13:11.000Z","path":"2017/01/17/android-6-0-æƒé™ç®¡ç†/","text":"&#8195;&#8195;å¦‚æœè¯´5.0æ˜¯androidä¸Šçš„é‡Œç¨‹ç¢‘ï¼Œé‚£ä¹ˆ6.0å°±æ˜¯å¯¹å®ƒçš„å®Œå–„ä¸å‡çº§ã€‚6.0ä»UIä¸Šä¸5.0æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œä¾æ—§åšæŒäº†å¥½è¯„çš„mdé£æ ¼ï¼Œä½†ä¸ä»…ä»…åªæ˜¯å†…æ ¸çš„å‡çº§è€Œå·²ã€‚6.0é¦–å…ˆæ˜¯åˆ é™¤äº†apacheçš„httpclientåŒ…ï¼Œè®©ä¸€äº›ç½‘ç»œè¯·æ±‚æ¡†æ¶éœ€è¦å¯¹6.0è¿›è¡Œé€‚é…ï¼Œè™½ç„¶æœ‰è¡¥æ•‘çš„æ–¹æ³•ï¼Œä½†å®˜æ–¹åˆ é™¤äº†ï¼Œä¹Ÿè®©okhttpæ›´æ·±å…¥äººå¿ƒã€‚ç„¶åå°±æ˜¯ä»Šå¤©æˆ‘ä»¬é‡ç‚¹è®¨è®ºçš„æƒé™ç®¡ç†ã€‚&#8195;&#8195;6.0ä»¥å‰çš„appå®‰è£…æ—¶ï¼Œä¼šé»˜è®¤æˆäºˆæ¸…å•æ–‡ä»¶manifestä¸­çš„æƒé™ï¼Œè™½ç„¶å®‰è£…æ—¶ä¼šå‘ŠçŸ¥ç”¨æˆ·æœ‰å“ªäº›æƒé™ï¼Œä½†ä¸€èˆ¬å¾ˆå°‘æœ‰äººä¼šåœ¨æ„è¿™ä¸€ç‚¹ã€‚äºæ˜¯å„ç§å±…å¿ƒåµæµ‹çš„å‚å®¶æˆ–è€…å¼€å‘è€…å¾€å¾€éƒ½æ˜¯åˆ—ä¸€å †çš„æƒé™ï¼Œåšç€ç”¨æˆ·æ‰€ä¸çŸ¥é“çš„äº‹æƒ…ã€‚ä»6.0å¼€å§‹ï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†ï¼Œä¸€äº›å±é™©çš„æƒé™æˆ‘ä»¬ä¸ä½†åœ¨å†™åœ¨manifestä¸­ï¼Œè¿˜éœ€è¦ç”¨æˆ·æˆäºˆåŒæ„æ‰èƒ½ä½¿ç”¨ã€‚å¯ä»¥è¯´æ‰¼æ€äº†ä¸€éƒ¨åˆ†å‚å®¶çš„åˆ©ç›Šã€‚é‚£ä¹ˆè¿™äº›å±é™©çš„æƒé™æœ‰å“ªäº›å‘¢?1234567891011121314151617181920212223242526272829303132permission:android.permission.WRITE_CONTACTSpermission:android.permission.GET_ACCOUNTSpermission:android.permission.READ_CONTACTSpermission:android.permission.READ_CALL_LOGpermission:android.permission.READ_PHONE_STATEpermission:android.permission.CALL_PHONEpermission:android.permission.WRITE_CALL_LOGpermission:android.permission.USE_SIPpermission:android.permission.PROCESS_OUTGOING_CALLSpermission:com.android.voicemail.permission.ADD_VOICEMAILpermission:android.permission.READ_CALENDARpermission:android.permission.WRITE_CALENDARpermission:android.permission.CAMERApermission:android.permission.BODY_SENSORSpermission:android.permission.ACCESS_FINE_LOCATIONpermission:android.permission.ACCESS_COARSE_LOCATIONpermission:android.permission.READ_EXTERNAL_STORAGEpermission:android.permission.WRITE_EXTERNAL_STORAGEpermission:android.permission.RECORD_AUDIOpermission:android.permission.READ_SMSpermission:android.permission.RECEIVE_WAP_PUSH permission:android.permission.RECEIVE_MMSpermission:android.permission.RECEIVE_SMSpermission:android.permission.SEND_SMSpermission:android.permission.READ_CELL_BROADCASTS è‡³äºå¦‚ä½•é€‚é…6.0ä¹‹åçš„æ‰‹æœºï¼Œä¸»è¦æœ‰2ç§æ–¹å¼1.appçš„build.gradleä¸­ targetSdkVersion =23åˆ™éœ€è¦å†™ç›¸åº”çš„é€‚é…ä»£ç 12345678910public static boolean hasPermission(@NonNull Context context, @NonNull String... permissions) &#123; if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) return true; for (String permission : permissions) &#123; boolean hasPermission = (ContextCompat.checkSelfPermission(context, permission) == PackageManager .PERMISSION_GRANTED); if (!hasPermission) return false; &#125; return true; &#125; æˆ‘ä»¬å…ˆåˆ¤æ–­androidç‰ˆæœ¬ï¼Œæœ‰æ²¡æœ‰æƒé™ï¼Œç„¶åè‹¥æ²¡æœ‰æƒé™å°±ç”³è¯·1234567public static void requestPermission(@NonNull Activity activity, int requestCode, @NonNull String... permissions) &#123; String [] ps=new String[permissions.length]; for (int i=0;i&lt;permissions.length;i++)&#123; ps[i]=permissions[i]; &#125; ActivityCompat.requestPermissions(activity, ps, requestCode); &#125; ç„¶åå°±æ˜¯æƒé™æˆäºˆçš„å›è°ƒ1234@Overridepublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) &#123; //è¿™é‡Œå°±å¯ä»¥å¤„ç†äº†&#125; å¦‚æœç”¨æˆ·æ‹’ç»äº†æˆäºˆï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ç»™ç”¨æˆ·è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦è¯¥æƒé™ï¼Œè¿”å›trueæˆ‘ä»¬å°±å¼¹å‡ºè§£é‡Šå¯¹è¯æ¡†,12345678910public static boolean shouldShowRationalePermissions(Object o, String... permissions) &#123; for (String permission : permissions) &#123; if (o instanceof Activity) &#123; return ActivityCompat.shouldShowRequestPermissionRationale((Activity) o, permission); &#125; else if (o instanceof android.support.v4.app.Fragment) &#123; return ((android.support.v4.app.Fragment) o).shouldShowRequestPermissionRationale(permission); &#125; &#125; return false;&#125; å¦‚æœç”¨æˆ·ä¸ä½†æ‹’ç»ï¼Œè¿˜ç‚¹å‡»äº†ä¸å†æé†’ï¼Œå°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œå› ä¸ºä¸ä¼šå†æœ‰æˆæƒæ¡†äº†ï¼Œæˆ‘ä»¬åªèƒ½æ£€æµ‹å¦‚æœæƒé™æ‹’ç»äº†ï¼Œå¼¹å‡ºæç¤ºæ¡†ï¼Œè¦ç”¨æˆ·åˆ°æƒé™ç®¡ç†ä¸­å¿ƒå»å¼€å¯æƒé™ã€‚12345678public static boolean hasAlwaysDeniedPermissio(Object o, @NonNull List&lt;String&gt; deniedPermissions) &#123; for (String deniedPermission : deniedPermissions) &#123; if(!shouldShowRationalePermissions(o,deniedPermission)) return true; &#125; return false;&#125; ä»¥ä¸Šå°±æ˜¯å¤„ç†6.0ä»¥ä¸Šçš„æƒé™é—®é¢˜ï¼Œä½†ä¸ä¸€å®šé€‚é…å›½äº§ç­‰æœºå‹ï¼Œæ¯•ç«Ÿå›½å†…å„å¤§Romä¿®æ”¹æºç æ¯”è¾ƒä¸¥é‡ï¼Œæœ‰è‡ªå®¶çš„æƒé™ç®¡ç†ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ã€‚ç›®å‰githubä¸Šå¼€æºçš„æƒé™ç®¡ç†ä¹Ÿæœ‰ä¸å°‘ lovediseçš„PermissionGen PermissionGençš„å‡çº§ç‰ˆ yanzhenjieçš„AndPermission hotchemiçš„PermissionsDispatcher,æ’ä»¶åœ°å€permissions-dispatcher-plugin k0shk0shçš„PermissionHelper ParkSangGwonçš„TedPermission Googleå®˜æ–¹googlesamplesçš„easypermissions anthonycrdçš„Grant åŸºäºRxçš„RxPermissions Karumiçš„Dexter å¼ é¸¿æ´‹çš„MPermissions å„æœ‰ä¼˜åŠ£ï¼Œä¸è¿‡å¯¹äºå›½äº§æ‰‹æœºï¼Œè‡ªå¸¦æƒé™ç®¡ç†å¯èƒ½éœ€è¦è‡ªè¡Œé€‚é…äº†å“¦ã€‚","tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"//dongqing123.cn/tags/éšç¬”/"},{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"}]},{"title":"realmç®€å•ä½¿ç”¨","date":"2017-01-13T10:22:57.000Z","path":"2017/01/13/realmç®€å•ä½¿ç”¨/","text":"æ•°æ®åº“â€”â€”androidå››å¤§å­˜å‚¨ä¹‹ä¸€ï¼Œè¯´å®è¯å·²ç»å¾ˆä¹…æ²¡æœ‰ä½¿ç”¨äº†ï¼Œå¹³æ—¶æ˜¯è¦ä½¿ç”¨ç½‘ç»œä¸æ–‡ä»¶å­˜å‚¨ï¼Œé™¤éæ˜¯éœ€è¦ç¦»çº¿æ¨¡å¼ï¼Œæˆ–è€…æœ‰ç‰¹æ®Šçš„è¦æ±‚ã€‚realmâ€”â€”ä¸€æ¬¾è½»é‡çº§çš„ç§»åŠ¨ç«¯æ•°æ®åº“ï¼Œç›¸æ¯”SQLiteå’Œå…¶ä»–ormæ¡†æ¶æœ‰ç€å…¶è®¸å¤šçš„ä¼˜ç‚¹ï¼Œä»¥å‰åªæ˜¯å¬è¿‡ï¼Œä»Šå¤©æ¥ä¸€ç¹åºå±±çœŸé¢ç›®ã€‚ç›¸æ¯”SQLiteï¼ŒRealmæ›´å¿«å¹¶ä¸”å…·æœ‰å¾ˆå¤šç°ä»£æ•°æ®åº“çš„ç‰¹æ€§ï¼Œæ¯”å¦‚æ”¯æŒJSONï¼Œæµå¼apiï¼ˆRxï¼‰ï¼Œæ•°æ®å˜æ›´é€šçŸ¥ï¼Œä»¥åŠåŠ å¯†æ”¯æŒï¼Œè¿™äº›éƒ½ä¸ºå®‰å“å¼€å‘è€…å¸¦æ¥äº†æ–¹ä¾¿ã€‚ å¦‚ä½•ä½¿ç”¨ä¾èµ–é¦–å…ˆæ˜¯åœ¨projectçš„build.gradleä¸­æ·»åŠ 1234dependencies &#123; ... classpath \"io.realm:realm-gradle-plugin:2.2.2\"&#125; ç„¶åæ˜¯appçš„build.gradleä¸­åœ¨apply plugin: &#39;com.android.application&#39;ä¸‹é¢æ·»åŠ 1apply plugin: 'realm-android' ç°åœ¨æˆ‘ä»¬sync project å°±å¯ä»¥äº†ã€‚ åˆ›å»ºrealmæˆ‘ä»¬éœ€è¦åœ¨è‡ªå®šä¹‰ä¸€ä¸ªç±»ç»§æ‰¿Application12345678910public class AppContext extends Application &#123; @Override public void onCreate() &#123; super.onCreate(); RealmConfiguration config = new RealmConfiguration.Builder()// .name(\"myRealm.realm\") .build(); Realm.setDefaultConfiguration(config); &#125;&#125; æ³¨é‡Šéƒ¨åˆ†ä¸ºrealmçš„åç§°ï¼Œæˆ‘ä»¬ä½¿ç”¨é»˜è®¤çš„default.realmã€‚ ä¸è¦å¿˜è®°åœ¨manifestä¸­ä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„Applicationã€‚ åˆ›å»ºRealmObjectåªè¦ç»§æ‰¿äº†RealmObjectç±»ï¼Œä»»æ„JavaBeanéƒ½èƒ½å­˜å‚¨åœ¨Realmä¸­ã€‚1234567891011121314151617181920public class RealmBean extends RealmObject &#123; private String openId; private boolean isRead; public String getOpenId() &#123; return openId; &#125; public void setOpenId(String openId) &#123; this.openId = openId; &#125; public boolean isRead() &#123; return isRead; &#125; public void setRead(boolean read) &#123; isRead = read; &#125;&#125; å·¥å…·ç±»1. æ’å…¥ 12345678public static void insertRealm(String openId) &#123; Realm realm = Realm.getDefaultInstance(); realm.beginTransaction(); RealmBean bean = realm.createObject(RealmBean.class); bean.setOpenId(openId); bean.setRead(false); realm.commitTransaction();&#125; ä½ å¯èƒ½æ³¨æ„åˆ°äº†beanå¹¶ä¸æ˜¯ç”¨Countryç±»çš„æ„é€ å™¨åˆ›å»ºçš„ã€‚å¯¹äºä¸€ä¸ªRealmæ¥è¯´ï¼Œç®¡ç†ä¸€ä¸ªRealmObjectçš„å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹å¿…é¡»ç”¨createObjectæ–¹æ³•åˆ›å»ºã€‚å¦‚æœä½ å¿…é¡»ä½¿ç”¨æ„é€ å™¨ï¼Œåˆ«å¿˜äº†åœ¨æäº¤äº‹åŠ¡å‰ä½¿ç”¨ç›¸å…³Realmå¯¹è±¡çš„copyToRealmæ–¹æ³•ã€‚123456789public static void insertRealm(String openId) &#123; Realm realm = Realm.getDefaultInstance(); realm.beginTransaction(); RealmBean bean = new RealmBean(); bean.setOpenId(openId); bean.setRead(false); realm.copyToRealm(bean); realm.commitTransaction();&#125; 2. åˆ é™¤12345678public static RealmBean deleteRealm(String openId) &#123; Realm mRealm = Realm.getDefaultInstance(); RealmBean bean = mRealm.where(RealmBean.class).equalTo(\"openId\", openId).findFirst(); mRealm.beginTransaction(); bean.deleteFromRealm(); mRealm.commitTransaction(); return bean;&#125; 3. ä¿®æ”¹1234567public static void updateRealm(String openId) &#123; Realm mRealm = Realm.getDefaultInstance(); RealmBean bean = mRealm.where(RealmBean.class).equalTo(\"openId\", openId).findFirst(); mRealm.beginTransaction(); bean.setRead(true); mRealm.commitTransaction();&#125; 4. æŸ¥è¯¢12345678910public static RealmBean queryRealm(String openId) &#123; Realm mRealm = Realm.getDefaultInstance(); RealmBean bean = mRealm.where(RealmBean.class).equalTo(\"openId\", openId).findFirst(); return bean;&#125;public static List&lt;RealmBean&gt; queryRealmList(boolean isRead) &#123; Realm mRealm = Realm.getDefaultInstance(); RealmResults&lt;RealmBean&gt; bean = mRealm.where(RealmBean.class).equalTo(\"isRead\", isRead).findAll(); return bean;&#125; æ¡ä»¶æŸ¥è¯¢ï¼ŒRealm æ”¯æŒä»¥ä¸‹æŸ¥è¯¢æ¡ä»¶ between()ã€greaterThan()ã€lessThan()ã€greaterThanOrEqualTo() å’Œ lessThanOrEqualTo()ã€‚ equalTo() å’Œ notEqualTo()ã€‚ contains()ã€beginsWith() å’Œ endsWith()ã€‚ isNull() å’Œ isNotNull()ã€‚ isEmpty() å’Œ isNotEmpty()ã€‚ ä»¥ä¸Šå°±æ˜¯realmçš„åŸºæœ¬ç”¨æ³•ï¼Œè™½ç„¶realmç®€å•å¿«æ·æ–¹ä¾¿ï¼Œä½†è¿˜æ˜¯æœ‰è®¸å¤šçš„çŸ­æ¿ã€‚ ç¼ºç‚¹ ä¸æ˜¯åŸºäºsqliteçš„ï¼Œä»–æœ‰è‡ªå·±çš„å­˜å‚¨å¼•æ“ ï¼Œå­˜å‚¨ä¸æ˜¯åŸºäºè¡¨çš„ï¼Œæ‰€ä»¥è”è¡¨æŸ¥è¯¢ä¸æ”¯æŒã€‚ æ‰€æœ‰çš„æ•°æ®æ¨¡å‹å¿…é¡»ç›´æ¥ç»§æ‰¿è‡ªRealmObjectã€‚è¿™é˜»ç¢æˆ‘ä»¬åˆ©ç”¨æ•°æ®æ¨¡å‹ä¸­çš„ä»»æ„ç±»å‹çš„ç»§æ‰¿ã€‚ Realm æ²¡æœ‰è‡ªåŠ¨å¢é•¿å±æ€§ã€‚ Realmå¯¹è±¡çš„ Setters &amp; Getters ä¸èƒ½è¢«é‡è½½ å°½ç®¡ Realm æ–‡ä»¶å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œä½†æ˜¯æ‚¨ä¸èƒ½è·¨çº¿ç¨‹å¤„ç† Realmsã€Realm å¯¹è±¡ã€æŸ¥è¯¢å’ŒæŸ¥è¯¢ç»“æœã€‚ æ€»ç»“realmçš„ä¼˜ç‚¹è‡ªç„¶ä¸ç”¨å¤šè¯´ï¼Œä¸€ä¸ªå­—ï¼šå¿«ã€‚åœ¨ä¿è¯äº†ACIDçš„è¦æ±‚ä¸‹ï¼Œå¾ˆå¤šè®¾è®¡éƒ½æ˜¯ä»¥é€Ÿåº¦ä¸ºä¸»ã€‚å½“ç„¶ï¼ŒRealm æœ€æ ¸å¿ƒçš„ç†å¿µå°±æ˜¯å¯¹è±¡é©±åŠ¨ï¼Œè¿™æ˜¯ Realm çš„æ ¸å¿ƒåŸåˆ™ã€‚Realm æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåµŒå…¥å¼æ•°æ®åº“ï¼Œä½†æ˜¯å®ƒä¹Ÿæ˜¯çœ‹å¾…æ•°æ®çš„å¦ä¸€ç§æ–¹å¼ã€‚å®ƒç”¨å¦ä¸€ç§è§’åº¦æ¥é‡æ–°çœ‹å¾…ç§»åŠ¨åº”ç”¨ä¸­çš„æ¨¡å‹å’Œä¸šåŠ¡é€»è¾‘ã€‚Realmè¿˜æ˜¯è·¨å¹³å°çš„ï¼Œå¤šä¸ªå¹³å°éƒ½ä½¿ç”¨ç›¸åŒçš„æ•°æ®åº“ï¼Œæ˜¯å¤šä¹ˆå¥½çš„ä¸€ä»¶äº‹æƒ…å‘€ã€‚ç›¸ä¿¡ä½¿ç”¨Realmä½œä¸ºAppæ•°æ®åº“çš„å¼€å‘è€…ä¼šè¶Šæ¥è¶Šå¤šã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"//dongqing123.cn/tags/æ•°æ®åº“/"},{"name":"realm","slug":"realm","permalink":"//dongqing123.cn/tags/realm/"}]},{"title":"Retrofitä½¿ç”¨","date":"2017-01-10T08:25:52.000Z","path":"2017/01/10/Retrofitä½¿ç”¨/","text":"&#8195;&#8195;ä¸Šç¯‡æˆ‘ä»¬ä»‹ç»äº†OkHttpçš„ä½¿ç”¨ï¼ŒOkHttpè™½è¯´æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œä½†å’Œvelleyã€nohttpç­‰ä¸å¤§ç›¸åŒï¼Œå®ƒå±äºåº•å±‚çš„ä¸œè¥¿ï¼Œæ˜¯æ²¡æœ‰ç»è¿‡å°è£…çš„ã€‚ä»Šå¤©æˆ‘ä»¬è®¨è®ºçš„retrofitå°±æ˜¯å¯¹okhttpè¿›è¡Œäº†å°è£…ï¼Œæ˜¯ä¸€ä¸ªéå¸¸æ£’çš„ç½‘ç»œè¯·æ±‚æ¡†æ¶ã€‚&#8195;&#8195;retrofitæ˜¯ä¸»è¦æ˜¯é€šè¿‡æ³¨è§£çš„å½¢å¼æ¥å†™è¯·æ±‚æ¥å£ï¼Œå¹¶ä¸”æ”¯æŒRxï¼Œé…åˆä½¿ç”¨æœ‰å¥‡æ•ˆã€‚ å¦‚ä½•ä½¿ç”¨é¦–å…ˆå½“ç„¶æ˜¯ä¾èµ–12345compile 'com.squareup.retrofit2:retrofit:2.1.0'compile 'com.squareup.retrofit2:converter-gson:2.1.0'//compile 'com.squareup.retrofit2:adapter-rxjava:2.1.0'//compile 'io.reactivex:rxandroid:1.2.1'//compile 'io.reactivex:rxjava:1.2.3' *æ³¨é‡Šéƒ¨åˆ†æ˜¯é…åˆrxä½¿ç”¨ã€‚ç„¶åjavaéƒ¨åˆ†æˆ‘ä»¬å…ˆå†™ä¸ªæ¥å£ç±»ç”¨äºç½‘ç»œè¯·æ±‚123456789101112131415161718192021222324public interface ApiService &#123; /** * æ¯æ—¥ä¸€Gank **/ @GET(\"day/&#123;year&#125;/&#123;month&#125;/&#123;day&#125;\") Call/*Observable*/&lt;GankData&gt; getDayData(@Path(\"year\") int year,@Path(\"month\") int month, @Path(\"day\") int day); /** * è·å–IPä¿¡æ¯ **/ @FormUrlEncoded @POST(\"service/getIpInfo.php\") Call/*Observable*/&lt;IpInfo&gt; getIpInfo(@Field(\"ip\") String ip); /** * ä¸Šä¼ å¤´åƒ **/ @Multipart @POST(\"uptUserHeadImg\") Call/*Observable*/&lt;UserBean&gt; uploadHead(@Part MultipartBody.Part photo, @Part(\"uid\") RequestBody userId); /** * ä¸‹è½½å›¾ç‰‡ */ @GET Call/*Observable*/&lt;ResponseBody&gt; downloadPicFromNet(@Url String fileUrl);&#125; *æ³¨é‡Šéƒ¨åˆ†æ˜¯é…åˆRxä½¿ç”¨è¿™é‡Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸‹retrofitçš„æ³¨è§£ getè¯·æ±‚ @GET ç”³æ˜getè¯·æ±‚æ–¹å¼ï¼Œæ‹¬å·é‡Œé¢æ˜¯è¯·æ±‚è·¯å¾„ã€‚ @Query è¯·æ±‚å‚æ•°å¯¹åº”çš„é”®å€¼ï¼Œæ‹¬å·å†…ä¸ºkeyï¼Œå‚æ•°ä¸ºvalueã€‚ @QueryMap å¦‚æœQueryå‚æ•°æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡@QueryMapæ–¹å¼å°†æ‰€æœ‰çš„å‚æ•°é›†æˆåœ¨ä¸€ä¸ªMapã€‚ @Path ä¼šæŠŠå‚æ•°å¡«å……åˆ°è·¯å¾„ä¸Šï¼Œå¦‚ä¸Šé¢çš„@Path(&quot;year&quot;) @Path(&quot;month&quot;) @Path(&quot;day&quot;) ä¼šå¡«å……@GET(&quot;day/{year}/{month}/{day}&quot;) ä¸­çš„yearã€monthã€dayã€‚@Pathå¯ç”¨äºä»»ä½•è¯·æ±‚æ–¹å¼ã€‚ @Url ä¸ä½¿ç”¨baseUrlã€‚ postè¯·æ±‚ @POST ç”³æ˜postè¯·æ±‚æ–¹å¼ï¼Œæ‹¬å·é‡Œé¢æ˜¯è¯·æ±‚è·¯å¾„ã€‚ @FormUrlEncoded è‡ªåŠ¨å°†è¯·æ±‚å‚æ•°çš„ç±»å‹è°ƒæ•´ä¸ºapplication/x-www-form-urlencodedï¼ŒFormUrlEncodedä¸èƒ½ç”¨äºGetè¯·æ±‚ã€‚ @Field è¯·æ±‚å‚æ•°å¯¹åº”çš„é”®å€¼ã€‚ @FieldMap å¦‚æœFieldå‚æ•°æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡@FieldMap æ–¹å¼å°†æ‰€æœ‰çš„å‚æ•°é›†æˆåœ¨ä¸€ä¸ªMapã€‚ @Body è¯·æ±‚å‚æ•°æœ‰å¤šä¸ªï¼Œé‚£ä¹ˆç»Ÿä¸€å°è£…åˆ°ç±»ä¸­åº”è¯¥ä¼šæ›´å¥½ï¼Œè¿™æ ·ç»´æŠ¤èµ·æ¥ä¼šéå¸¸æ–¹ä¾¿ã€‚ ä¸Šä¼ æ–‡ä»¶ @Multipart ç”³æ˜ä¸ºä¸Šä¼ æ–‡ä»¶æ–¹å¼ã€‚ @Part å‚æ•°åˆ—è¡¨ MultipartBody.Part ä¸ºæ–‡ä»¶ç±»å‹ï¼ŒRequestBody ä¸ºä¸€èˆ¬å‚æ•°ã€‚ @PartMap å¦‚æœPartå‚æ•°æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡@PartMap æ–¹å¼å°†æ‰€æœ‰çš„å‚æ•°é›†æˆåœ¨ä¸€ä¸ªMapã€‚@PartMap Map&lt;String, RequestBody&gt; params å¯ä»¥æ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯æ˜¯æ–‡ä»¶ä¸å‚æ•°æ··åˆã€‚ æ¥å£ç±»å†™å¥½åï¼Œæˆ‘ä»¬è¦å†™ä¸ªå•ä¾‹æ¨¡å¼çš„ç½‘ç»œè¯·æ±‚ç±»12345678910111213141516171819202122232425262728293031323334353637public class Api &#123; public static final String BASE_URL = \"http://gank.io/api/\"; public final static MediaType TYPE_IMAGE = MediaType.parse(\"image/*\"); public static final int DEFAULT_TIMEOUT = 30; public Retrofit retrofit; public ApiService service; //æ„é€ æ–¹æ³•ç§æœ‰ private Api() &#123; OkHttpClient okHttpClient = new OkHttpClient.Builder() .readTimeout(DEFAULT_TIMEOUT, TimeUnit.SECONDS) .connectTimeout(DEFAULT_TIMEOUT, TimeUnit.SECONDS) .build(); Gson gson = new GsonBuilder().setDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\").serializeNulls().create(); retrofit = new Retrofit.Builder() .client(okHttpClient) .addConverterFactory(GsonConverterFactory.create(gson)) //.addCallAdapterFactory(RxJavaCallAdapterFactory.create()) .baseUrl(BASE_URL) .build(); service = retrofit.create(ApiService.class); &#125; //åœ¨è®¿é—®HttpMethodsæ—¶åˆ›å»ºå•ä¾‹ private static class SingletonHolder &#123; private static final Api INSTANCE = new Api(); &#125; //è·å–å•ä¾‹ public static Api getInstance() &#123; return SingletonHolder.INSTANCE; &#125; åˆ°è¿™é‡ŒåŸºæœ¬ä¸Šå®Œæˆä¸€å¤§åŠï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹åœ¨Activityã€fragmentç­‰ä¸­è°ƒç”¨ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243Calendar calender = Calendar.getInstance();calender.setTime(date); //Rxä½¿ç”¨æ–¹å¼Api.getInstance().service.getDayData(calender.get(Calendar.YEAR), calender.get(Calendar.MONTH) + 1, calender.get(Calendar.DAY_OF_MONTH)) .subscribeOn(Schedulers.io()) .map(new Func1&lt;GankData, GankData.ResultsBean&gt;() &#123; @Override public GankData.ResultsBean call(GankData gankData) &#123; return gankData.getResults(); &#125; &#125;) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Subscriber&lt;GankData.ResultsBean&gt;() &#123; @Override public void onCompleted() &#123; Log.v(\"success:\", \"onCompleted\"); &#125; @Override public void onError(Throwable e) &#123; Log.v(\"failure:\", \"onError\"); &#125; @Override public void onNext(GankData.ResultsBean resultsBean) &#123; &#125; &#125;); //callä½¿ç”¨æ–¹å¼Api.getInstance().service.getDayData(calender.get(Calendar.YEAR), calender.get(Calendar.MONTH) + 1, calender.get(Calendar.DAY_OF_MONTH)) .enqueue(new Callback&lt;GankData&gt;() &#123; @Override public void onResponse(Call&lt;GankData&gt; call,Response&lt;GankData&gt; response) &#123; &#125; @Override public void onFailure(Call&lt;GankData&gt; call, Throwable t) &#123; &#125;&#125;); å…¶ä»–çš„æ¥å£ä¹Ÿæ˜¯ç±»ä¼¼çš„æ“ä½œã€‚ æ€»ç»“&#8195;&#8195; retrofitä½¿ç”¨èµ·æ¥è¿˜æ˜¯è›®æ–¹ä¾¿çš„ï¼Œå…¶ä»–è¿˜æœ‰headerã€æ—¥å¿—ã€æ‹¦æˆªå™¨ç­‰çš„å†…å®¹æ²¡æœ‰ä»‹ç»ï¼Œè€ƒè™‘åˆ°ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦å¯¹è¿™äº›è¿›è¡Œæ“ä½œçš„ ã€‚ä½¿ç”¨retrofitåå°å¿…é¡»éµå¾ªrestfulåŸåˆ™ï¼Œå…·ä½“æ¦‚å¿µå¯ä¸Šç½‘äº†è§£ã€‚ä¾‹å­ä¸­ä½¿ç”¨åˆ°äº†Rxç­‰ç›¸å…³çš„çŸ¥è¯†ï¼Œäº†è§£javaåç«¯çš„åº”è¯¥å¯¹é“¾å¼æ“ä½œæœ‰æ‰€äº†è§£ï¼Œéœ€è¦å­¦ä¹ çš„å°ä¼™ä¼´å¯å‚è€ƒæŠ›ç‰©çº¿çš„ç»™ Android å¼€å‘è€…çš„ RxJava è¯¦è§£ ï¼Œè¿™ç¯‡æ–‡ç« å¯¹Rxè¿›è¡Œäº†è¯¦ç»†çš„è§£è¯»ã€‚ç›®å‰Rx 2.0çš„ç‰ˆæœ¬ä¹Ÿå·²å‘å¸ƒï¼Œç›¸å¯¹1.0æœ‰äº›è®¸æ”¹åŠ¨ã€‚","tags":[{"name":"ç½‘ç»œè¯·æ±‚","slug":"ç½‘ç»œè¯·æ±‚","permalink":"//dongqing123.cn/tags/ç½‘ç»œè¯·æ±‚/"},{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"retrofit","slug":"retrofit","permalink":"//dongqing123.cn/tags/retrofit/"}]},{"title":"React Native é…ç½®","date":"2017-01-04T03:22:26.000Z","path":"2017/01/04/React-Native-é…ç½®/","text":"&#8195;&#8195;è¿‘å¹´æ¥éšç€ç§»åŠ¨äº’è”ç½‘çš„å‘å±•ï¼Œç§»åŠ¨å¯ä»¥è¯´åœ¨é£é€Ÿçš„è¿›æ­¥ï¼ŒåŠ ä¸Šå„ç§åŸ¹è®­æœºæ„ï¼Œå¸‚åœºä¸Šæ¶Œå…¥äº†å¤§å †å¤§å †çš„æ–°äººåŠ å…¥åˆ°æ‰‹æœºAppçš„è¡Œä¸šï¼Œä»è€Œå½¢æˆäº†é¥±å’Œçš„çŠ¶æ€ã€‚ä»2016å¹´åˆå¼€å§‹ï¼Œç§»åŠ¨å¼€å‘å‡ºç°äº†å„ç§ä½æ½®ï¼Œä»æ‰¾å·¥ä½œè¿™ä¸€æ–¹é¢æ¥çœ‹ï¼Œæ˜æ˜¾éš¾åº¦é«˜äº†å¥½å¤šï¼Œå…¬å¸éƒ½ä¸æ„¿æ„æ‹›æ‰‹æœºappçš„äººå‘˜ï¼Œåè€Œæ„¿æ„æ‹›æ”¶åç«¯å¼€å‘ã€‚æ˜æ˜å¹´åº•æ˜¯è·³æ§½çš„ä¸€æ¬¡è¿›ä¿®ï¼Œç°åœ¨éƒ½å¼€å§‹è§‚æœ›äº†ï¼Œä¸æ•¢è½»æ˜“ï¼Œå½“ç„¶å®åŠ›å¤§ç‰›è¿™äº›å¯¹ä»–ä»¬æ¥è¯´å½±å“ä¸å¤§ã€‚ä¸è¿‡æœ€è¿‘å‡ºç°äº†è®¸å¤šæ›¿ä»£åŸç”Ÿå¼€å‘çš„å·¥å…·ï¼Œä»æ—©æœŸçš„phoneGap,åˆ°æ¯”è¾ƒç«çš„H5ï¼Œä»¥åŠ2015å¹´å‡ºç°RNï¼Œå¬è¯´å¾®ä¿¡çš„â€œå°ç¨‹åºâ€ä¹Ÿæƒ³åˆ†ä¸€æ¯ç¾¹ã€‚å„ç§åŸç”Ÿå·²æ­»çš„è¯„è®ºåˆ°å¤„éƒ½æ˜¯ï¼Œä½œä¸ºæ‰‹æœºå¼€å‘äººå‘˜å½“ç„¶çŸ¥é“è¿™äº›ç›®å‰è¿˜ä¸å¤ªå¯èƒ½ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½ååƒå±±ç©ºï¼Œå¢¨å®ˆæˆè§„ã€‚å¯¹äºè¿™äº›æ–°æŠ€æœ¯ä¹Ÿæ˜¯è¦äº†è§£ä¸€ä¸‹çš„ã€‚&#8195;&#8195;React Native ç›®å‰ä¹Ÿæœ‰ä¸€å¹´å¤šçš„å†å²äº†ï¼Œåº”ç”¨å•†åº—ä¹Ÿæœ‰è®¸å¤šåŸºäºRNçš„Appï¼Œåº”è¯¥ç®—æ˜¯æ¯”è¾ƒæˆç†Ÿäº†ï¼Œä½†å®˜æ–¹ä¾ç„¶è¿˜æ˜¯0.x.xçš„ç‰ˆæœ¬ï¼Œæ­£å¼ç‰ˆä¸çŸ¥ä½•æ—¶å‘å¸ƒã€‚ RNç¯å¢ƒé…ç½®åœ¨RNä¸­æ–‡ç½‘ä¸Šæœ‰è¯¦ç»†çš„æ­å»ºå¼€å‘ç¯å¢ƒï¼Œä¸€èˆ¬æŒ‰ç€æ­¥éª¤èµ°æ˜¯å¯è¡Œçš„ï¼Œè‹¥å®‰è£…è¾ƒæ…¢å¯ä»¥ä½¿ç”¨ç§‘å­¦ä¸Šç½‘æˆ–è€…æ¢æ·˜å®çš„é•œåƒã€‚ ##æ­å»ºRNé¡¹ç›®ç¯å¢ƒæ­å»ºå®Œæˆåï¼Œæ˜¯æ—¶å€™å¼€å§‹å­¦ä¹ RNäº†ï¼Œæˆ‘ä»¬å…ˆä»æ–°å»ºé¡¹ç›®å¼€å§‹ï¼Œå®˜æ–¹æ˜¯é€šè¿‡123react-native init AwesomeProjectcd AwesomeProjectreact-native run-android å‘½ä»¤æ¥å®ç°é¡¹ç›®çš„æ–°å»ºä¸è¿è¡Œï¼ˆéƒ¨åˆ†æ‰‹æœºä¼šcrashéœ€è¦åˆ°æƒé™ç®¡ç†ä¸­å¿ƒå¼€å¯æ‚¬æµ®çª—æƒé™ï¼‰ï¼Œä¹Ÿå¯å‚è€ƒæ±Ÿæ¸…æ¸…çš„åšå®¢React Nativeä¸“é¢˜ä¸­çš„ä¸¤ç¯‡React Native For Androidç¯å¢ƒé…ç½®ä»¥åŠç¬¬ä¸€ä¸ªå®ä¾‹ã€React Nativeç§»æ¤åŸç”ŸAndroidé¡¹ç›®-å·²æ›´æ–°ç‰ˆæœ¬-Newã€‚å¦‚æœä½ å·²æ–°å»ºé¡¹ç›®å¹¶ä¸”Androidæ²¡æœ‰ä¿®æ”¹ä»£ç å¯ä»¥é€šè¿‡ä»¥ä¸‹æ“ä½œ12adb reverse tcp:8081 tcp:8081react-native start ä¸Šé¢å‘½ä»¤æ¥å¯åŠ¨æœåŠ¡ï¼Œæ‰‹æœºæ‰“å¼€RNé¡¹ç›®é€šè¿‡é‡æ–°åŠ è½½JSå°±å¯ä»¥äº†ï¼ˆæ‘‡ä¸€æ‘‡æˆ–è€…æŒ‰menuèœå•é”®é€‰æ‹©Reloadï¼‰ã€‚ ç¼–è¾‘JSRNç›¸æ¯”åŸç”Ÿæœ€æ–¹ä¾¿çš„å°±æ˜¯ä¿®æ”¹ä»£ç ï¼ˆä¸æ¶‰åŠåŸç”Ÿä»£ç ï¼‰ä¸éœ€è¦é‡æ–°å®‰è£…ï¼Œåªéœ€è¦é‡æ–°åŠ è½½JSå°±å¯ä»¥äº†ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚è€Œä¸”å¤§éƒ¨åˆ†JSä»£ç Androidä¸iOSæ˜¯å¯ä»¥å…±ç”¨çš„ï¼Œå¯ä»¥è¯´æ˜¯å®ç°äº†ä¸€å¥—ä»£ç ä¸¤ä¸ªç‰ˆæœ¬ã€‚ç¼–è¾‘JSçš„IDEå¯ä¾›é€‰æ‹©çš„æœ‰å¾ˆå¤šï¼Œatomã€webstormã€sublime text3ç­‰ç­‰ï¼Œå¯æ ¹æ®ä¸ªäººä¹ æƒ¯é€‰æ‹©ã€‚ æœ€åæœ¬ç¯‡ä¸»è¦è¯´çš„æ˜¯RNçš„ç¯å¢ƒé…ç½®ä¸æ­å»ºRNé¡¹ç›®ï¼Œå¹³æ—¶åœ¨ä¸šä½™æ—¶é—´å¯ä»¥ç”¨æ¥ç»ƒç»ƒæ‰‹ï¼Œå­¦ä¹ å­¦ä¹ ã€‚ä½†æ˜¯ç”¨äºå•†ä¸šé¡¹ç›®è¿˜æ˜¯éœ€è¦ç›¸å½“è°¨æ…çš„ï¼Œä¹Ÿè®¸ä¼šé‡åˆ°å¾ˆå¤šå¾ˆå¤šçš„å¡«ä¸å®Œçš„å‘ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"},{"name":"RN","slug":"RN","permalink":"//dongqing123.cn/tags/RN/"}]},{"title":"OkHttpçš„ä½¿ç”¨","date":"2017-01-04T03:20:51.000Z","path":"2017/01/04/OkHttpçš„ä½¿ç”¨/","text":"ç½‘ç»œè¯·æ±‚æ¡†æ¶æˆ‘ä¸€ç›´éƒ½ä½¿ç”¨httpclientï¼Œåæ¥æ”¹æˆäº†xutilsï¼Œä½†æ˜¯å»å¹´å¼€å§‹è‡ªä»Android6.0å»æ‰äº†httpclientçš„æ”¯æŒï¼Œæƒ³è¦ä½¿ç”¨è¿˜è¦åœ¨build.gradleæ·»åŠ useLibrary &#39;org.apache.http.legacy&#39;ï¼ŒåŠ ä¸Šgoogleçš„æ¨å¹¿ï¼ŒOkhttpå˜å¾—éå¸¸ç«äº†èµ·æ¥ï¼Œäºæ˜¯è‡ªå·±ä¹Ÿä¿®æ”¹è‡ªå·±çš„ç½‘ç»œæ¡†æ¶ã€‚æˆ‘ä½¿ç”¨æ—¶OkHttpå·²ç»å‡ºç°3.0çš„ç‰ˆæœ¬äº†ï¼Œä¸2.0çš„ç‰ˆæœ¬è¿˜æ˜¯æœ‰ä¸€äº›å·®åˆ«çš„ getåŸºæœ¬ä¸Šæ²¡æœ‰ä»€ä¹ˆåŒºåˆ« 2.0123456OkHttpClient client = new OkHttpClient();client.setConnectTimeout(15,TimeUnit.SECONDS);client.setWriteTimeout(20,TimeUnit.SECONDS); client.setReadTimeout(20,TimeUnit.SECONDS);Request request = new Request.Builder().url(url).build();Response response = client.newCall(request).execute(); 3.0123456OkHttpClient client = new OkHttpClient();client.newBuilder().connectTitmeout(15,TimeUnit.SECONDS)client.newBuilder().readTimeout(15,TimeUnit.SECONDS)client.newBuilder().wirteTimeout(15,TimeUnit.SECONDS)Request request = new Request.Builder().url(url).build();Response response = client.newCall(request).execute(); postå–æ¶ˆäº†FormEncodingBuilderä½¿ç”¨FormBody 2.01234OkHttpClient client = new OkHttpClient();RequestBody requestBody = new FormEncodingBuilder() .add(\"\",\"\").add(\"\",\"\").build();Request request = new Request.Builder().url(url).post(requestBody).build();Response response = client.newCall(request).execute(); 3.01234OkHttpClient client = new OkHttpClient();RequestBody requestBody = new FormBody.Builder().add(\"\",\"\").add(\"\",\"\").build();Request request = new Request.Builder().url(url).post(requestBody).build();Response response = client.newCall(request).execute(); ä¸Šä¼ æ–‡ä»¶MultipartBuilderæ”¹ä¸ºMultipartBody 2.0123456789OkHttpClient client = new OkHttpClient();MultipartBuilder multipartEntity = new MultipartBuilder().type(MultipartBuilder.FORM); File file = new File(tmepName);RequestBody fileBody = RequestBody.create(MediaType.parse(\"image/*\"), file);multipartEntity.addFormDataPart(key,file.getName(), fileBody);multipartEntity.addFormDataPart(key, value);RequestBody requestBody = multipartEntity.build();Request request = new Request.Builder().url(url).post(requestBody).build();Response response = client.newCall(request).execute(); 3.0123456789OkHttpClient client = new OkHttpClient();MultipartBody.Builder multipartEntity = new MultipartBody.Builder();File file = new File(tmepName);RequestBody fileBody = RequestBody.create(MediaType.parse(\"image/*\"), file);multipartEntity.addFormDataPart(key,file.getName(), fileBody);multipartEntity.addFormDataPart(key, value);RequestBody requestBody = multipartEntity.build();Request request = new Request.Builder().url(url).post(requestBody).build();Response response = client.newCall(request).execute(); cookieä½¿ç”¨cookieJaræ›¿ä»£cookieHandleræŒä¹…åŒ–æ–‡ä»¶ 2.01client.setCookieHandler(new CokieManager(new PersistentCookieStore(context), CookiePolicy.ACCEPT_ALL)); 3.01client.newBuilder().cookieJar(new CookiesManager()); ä»¥ä¸Šå°±æ˜¯OkHttpçš„ç®€å•ä½¿ç”¨ä»¥åŠ2.0ä¸3.0çš„å·®å¼‚ï¼Œä¸‹ä¸€ç¯‡æˆ‘ä»¬è®²è§£retrofitã€‚","tags":[{"name":"ç½‘ç»œè¯·æ±‚","slug":"ç½‘ç»œè¯·æ±‚","permalink":"//dongqing123.cn/tags/ç½‘ç»œè¯·æ±‚/"},{"name":"okHttp","slug":"okHttp","permalink":"//dongqing123.cn/tags/okHttp/"},{"name":"Android","slug":"Android","permalink":"//dongqing123.cn/tags/Android/"}]},{"title":"2016å¹´æ€»ç»“","date":"2016-12-31T03:21:33.000Z","path":"2016/12/31/2016å¹´æ€»ç»“/","text":"&#8195;&#8195;æ—¶é—´æ€»æ˜¯è¿‡çš„é£å¿«ï¼Œè½¬çœ¼ä¹‹é—´2016å¹´å·²ç»æ²¡å‰©å‡ å¤©äº†ï¼Œæƒ³æƒ³è‡ªå·±éƒ½æ˜¯26å²çš„äººäº†ï¼Œç¦»è‡ªå·±çš„æ¢¦æƒ³ä¹Ÿæ¸è¡Œæ¸è¿œã€‚&#8195;&#8195;å›é¡¾è¿™ä¸€æ•´å¹´ï¼Œå‘ç°è‡ªå·±å¹²çš„çäº‹ç¡®å®è›®å¤šçš„ï¼Œä½†åšæŒçš„äº‹æ€»æ˜¯æ²¡æœ‰ï¼Œæƒ³æƒ³è‡ªå·±éƒ½å¿«æ¯•ä¸š3å¹´äº†ï¼Œè¿˜æ˜¯ç¢Œç¢Œæ— ä¸ºå‘€ã€‚åè€Œçœ‹äº†è®¸å¤šäººå†™çš„å¹´ç»ˆæ€»ç»“ï¼Œå‘ç°è‡ªå·±ä¸ä»–ä»¬çš„å·®è·çœŸçš„æ˜¯éå¸¸çš„å¤§ï¼Œäººå®¶ä¸€å¹´åšäº†å¥½å¤šå¥½å¤šçš„å®äº‹ï¼Œè€Œæˆ‘ä¸€å¹´éƒ½ä¸çŸ¥é“å¹²äº†ä»€ä¹ˆã€‚&#8195;&#8195;è¯´å®è¯æˆ‘æ˜¯ä¸å–œæ¬¢å†™æ€»ç»“æ¥ç€ï¼Œè¿™ç®—æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ã€‚æƒ³æƒ³è‡ªå·±éƒ½å‡ºæ¥3å¹´äº†ï¼Œè€ƒç ”çš„ç°åœ¨ä¹Ÿè¯¥æ¯•ä¸šäº†ï¼Œè‡ªå·±çš„å¹´é¾„ä¹Ÿæ˜¯è¶Šæ¥è¶Šå¤§ï¼Œç²¾åŠ›ä¹Ÿä¸æƒ³ä»¥å‰é‚£ä¹ˆå……æ²›äº†ï¼Œå®åœ¨ä¸æƒ³å†æµ‘æµ‘å™©å™©çš„è¿‡æ—¥å­ã€‚&#8195;&#8195;åºŸè¯è¯´äº†è¿™ä¹ˆå¤šï¼Œçœ‹çœ‹æˆ‘16å¹´éƒ½å¹²äº†äº›ä»€ä¹ˆã€‚&#8195;&#8195;æƒ³äº†æƒ³å®åœ¨ä¸çŸ¥é“å¹²ä¹ˆäº†ã€‚ã€‚ã€‚&#8195;&#8195;3æœˆä»½å½“æ—¶ç‚¹çªä¸šåŠ¡è¿˜åœ¨ï¼Œè¿˜åœ¨ç»´æŠ¤ç‚¹çªå•†åŸä¸ç”µè§†TVï¼Œè¿˜æœ‰å°±æ˜¯æˆ‘çš„æ‰‹ä¸‹ç¦»èŒäº†ï¼Œæˆ‘æˆäº†å­¤å®¶å¯¡äººï¼Œä¹‹åå°±å¼€å§‹åšç”µå­åˆ¸ä¸ä¾›é”€é€šçš„ä¸šåŠ¡ã€‚&#8195;&#8195;è¯´èµ·æ¥å°±è§‰å¾—å…¬å¸æ¯”è¾ƒå‘ï¼Œappåšäº†ä¸€ç‰ˆåˆä¸€ç‰ˆå°±æ˜¯æ²¡æœ‰æŠ•å…¥ä½¿ç”¨ï¼Œç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯æˆ‘åšçš„appä¸€ä¸ªéƒ½æ²¡ä¸Šçº¿ã€‚ä¹‹åæˆ‘å°±å¼€å§‹æŠ•å…¥åˆ°ä¸‡åƒåŒæ€§äº¤å‹ç½‘ç«™githubçš„æ€€æŠ±ï¼Œå†™demoã€‚&#8195;&#8195;å¥½äº†åŸºæœ¬ä¸Šå°±è¿™äº›ï¼Œç„¶åå°±æ˜¯å­¦ä¹ ã€‚&#8195;&#8195;å­¦ä¹ drag2ã€mvp ã€rxã€okhttpã€retrofitç­‰ç­‰å¼€æºæ¡†æ¶ï¼Œè®¢é˜…ä¸å…³æ³¨äº†è®¸å¤šå¤§ç‰›ï¼Œäº†è§£RNã€çƒ­ä¿®å¤ç­‰ç­‰ç›¸å…³çš„çŸ¥è¯†ï¼Œå†™å†™æ¼”ç¤ºDemoã€‚&#8195;&#8195;åˆ°12æœˆä»½çš„æ—¶å€™ï¼Œæˆ‘ç»ˆäºæ‰“ç®—å†™ä¸ªäººappä¸Šçº¿åº”ç”¨å•†åº—ã€‚æˆ‘å¼€å§‹åŸºäºgank.ioå†™æˆ‘çš„ä¸ªäººappï¼Œæ³¨å†Œäº†ä¸‰å¤§å¹³å°çš„è´¦å·ï¼Œå‰å‰ååèŠ±äº†å¤§æ¦‚3å‘¨çš„æ—¶é—´ç»ˆäºä¸Šçº¿äº†ï¼Œä½†ä¹Ÿä»…ä»…æ˜¯ä¸Šçº¿äº†ã€‚&#8195;&#8195;å†™å®Œæˆ‘æ˜¯çœŸå‘ç°æ²¡åšä»€ä¹ˆå®äº‹å‘¢ã€‚&#8195;&#8195;2017å¹´çœŸæ˜¯å¸Œæœ›è‡ªå·±æœ‰æ‰€æ”¹å˜ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯è¿˜æ˜¯äººé™…ã€‚","tags":[{"name":"æ€»ç»“","slug":"æ€»ç»“","permalink":"//dongqing123.cn/tags/æ€»ç»“/"},{"name":"éšç¬”","slug":"éšç¬”","permalink":"//dongqing123.cn/tags/éšç¬”/"}]},{"title":"Hello World","date":"2016-12-28T06:16:40.000Z","path":"2016/12/28/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":[]}]